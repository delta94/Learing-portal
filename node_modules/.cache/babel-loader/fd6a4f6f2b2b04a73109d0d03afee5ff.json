{"ast":null,"code":"import React from\"react\";import{Button,CssBaseline,TextField,Typography,Container,InputAdornment}from\"@material-ui/core\";import{makeStyles}from\"@material-ui/core/styles\";import{RiLockPasswordLine}from\"react-icons/ri\";import{useForm}from\"react-hook-form\";import*as yup from\"yup\";import{useDispatch,useSelector}from'react-redux';import*as actions from\"../actions\";import Snackbar from\"shared/SnackBar/SnackBar\";var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:\"100%\",// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},margin:{margin:theme.spacing(1),padding:theme.spacing(1)},container:{background:\"white\",borderRadius:\"10px\",padding:\"10px\"},submit:{marginTop:\"10px\",background:\"lavender\"}};});export default function SignIn(){var classes=useStyles();var dispatch=useDispatch();var _useForm=useForm({mode:\"onChange\",validationSchema:yup.object().shape({oldPassword:yup.string().required(),newPassword:yup.string().required(),pwd2:yup.string().required().oneOf([yup.ref(\"newPassword\")],\"กรุณากรอกรหัสให้เหมือนกัน\").required(\"กรุณากรอกรหัสผ่าน ( 2 )\")})}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var onSubmitData=handleSubmit(function(_ref){var oldPassword=_ref.oldPassword,newPassword=_ref.newPassword;var info={oldPassword:oldPassword,newPassword:newPassword};var action=actions.loadPassword(info);dispatch(action);});var _useSelector=useSelector(function(state){return state.admin;}),message=_useSelector.message,severity=_useSelector.severity;return/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\",className:classes.container},message!==null&&/*#__PURE__*/React.createElement(Snackbar,{message:message,open:message!==null?true:false,severity:severity}),/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"\\u0E40\\u0E1B\\u0E25\\u0E35\\u0E48\\u0E22\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.form,onSubmit:onSubmitData},/*#__PURE__*/React.createElement(TextField,{className:classes.margin,fullWidth:true,label:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E40\\u0E14\\u0E34\\u0E21\",type:\"password\",name:\"oldPassword\",inputRef:register,helperText:errors.oldPassword?\"กรอกรหัสผ่าน\":\"\",error:!!errors.oldPassword,InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(RiLockPasswordLine,{size:24}))}}),/*#__PURE__*/React.createElement(TextField,{className:classes.margin,fullWidth:true,label:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19 (1)\",name:\"newPassword\",inputRef:register,helperText:errors.newPassword?\"กรอกรหัสผ่าน\":\"\",error:!!errors.newPassword,type:\"password\",InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(RiLockPasswordLine,{size:24}))}}),/*#__PURE__*/React.createElement(TextField,{className:classes.margin,fullWidth:true,id:\"input-with-icon-textfield\",label:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19 (2)\",name:\"pwd2\",inputRef:register,helperText:errors.pwd2?\"กรอกรหัสผ่าน\":\"\",error:!!errors.pwd2,type:\"password\",InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(RiLockPasswordLine,{size:24}))}}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,className:classes.submit},\"\\u0E2A\\u0E48\\u0E07\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E25\\u0E39\"))));}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/adminPortal/components/Reset.tsx"],"names":["React","Button","CssBaseline","TextField","Typography","Container","InputAdornment","makeStyles","RiLockPasswordLine","useForm","yup","useDispatch","useSelector","actions","Snackbar","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","padding","container","background","borderRadius","submit","SignIn","classes","dispatch","mode","validationSchema","object","shape","oldPassword","string","required","newPassword","pwd2","oneOf","ref","register","handleSubmit","errors","onSubmitData","info","action","loadPassword","state","admin","message","severity","startAdornment"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n\n  Button,\n  CssBaseline,\n  TextField,\n  Typography,\n  Container,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport { resetPasswordProps } from \"../tyscript\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { RiLockPasswordLine } from \"react-icons/ri\";\n\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as actions from \"../actions\"\n\nimport Snackbar from \"shared/SnackBar/SnackBar\"\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n\n  margin: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n  },\n  container: {\n    background: \"white\",\n    borderRadius: \"10px\",\n    padding: \"10px\",\n  },\n  submit: {\n    marginTop: \"10px\",\n    background: \"lavender\",\n  },\n}));\nexport default function SignIn() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const { register, handleSubmit, errors } = useForm<resetPasswordProps>({\n    mode: \"onChange\",\n    validationSchema: yup.object().shape({\n      oldPassword: yup.string().required(),\n      newPassword: yup.string().required(),\n      pwd2: yup\n        .string()\n        .required()\n        .oneOf([yup.ref(\"newPassword\")], \"กรุณากรอกรหัสให้เหมือนกัน\")\n        .required(\"กรุณากรอกรหัสผ่าน ( 2 )\"),\n    }),\n  });\n\n  const onSubmitData = handleSubmit(({ oldPassword, newPassword }) => {\n    const info = { oldPassword: oldPassword, newPassword: newPassword }\n    const action = actions.loadPassword(info)\n    dispatch(action)\n\n  });\n  const { message, severity } = useSelector((state: any) => state.admin);\n\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.container}>\n      {\n        message !== null && <Snackbar\n          message={message\n          }\n          open={message !== null ? true : false}\n          severity={severity}\n        />\n      }\n      <CssBaseline />\n      <div className={classes.paper}>\n\n        <Typography component=\"h1\" variant=\"h5\">\n          เปลี่ยนรหัสผ่าน\n        </Typography>\n        <form className={classes.form} onSubmit={onSubmitData}>\n          <TextField\n            className={classes.margin}\n            fullWidth\n            label=\"รหัสผ่านเดิม\"\n            type=\"password\"\n            name=\"oldPassword\"\n            inputRef={register}\n            helperText={errors.oldPassword ? \"กรอกรหัสผ่าน\" : \"\"}\n            error={!!errors.oldPassword}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <RiLockPasswordLine size={24} />\n                </InputAdornment>\n              ),\n            }}\n          />\n\n          <TextField\n            className={classes.margin}\n            fullWidth\n            label=\"รหัสผ่าน (1)\"\n            name=\"newPassword\"\n            inputRef={register}\n            helperText={errors.newPassword ? \"กรอกรหัสผ่าน\" : \"\"}\n            error={!!errors.newPassword}\n            type=\"password\"\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <RiLockPasswordLine size={24} />\n                </InputAdornment>\n              ),\n            }}\n          />\n\n          <TextField\n            className={classes.margin}\n            fullWidth\n            id=\"input-with-icon-textfield\"\n            label=\"รหัสผ่าน (2)\"\n            name=\"pwd2\"\n            inputRef={register}\n            helperText={errors.pwd2 ? \"กรอกรหัสผ่าน\" : \"\"}\n            error={!!errors.pwd2}\n            type=\"password\"\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <RiLockPasswordLine size={24} />\n                </InputAdornment>\n              ),\n            }}\n          />\n\n          <Button type=\"submit\" fullWidth className={classes.submit}>\n            ส่งข้อมลู\n          </Button>\n        </form>\n      </div>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}