{"ast":null,"code":"var _jsxFileName = \"/Users/ninew/Documents/GitHub/Learing-portal/src/modules/coursePortal/components/Search/index.tsx\";\nimport React, { useEffect, Suspense, lazy, useState } from \"react\";\nimport { Grid, Divider, Container, CircularProgress, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation } from \"react-router-dom\";\nimport { parse } from \"query-string\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as actions from \"../../actions\";\nimport searchNotfound from \"assets/gif/somethingbroken.gif\";\nimport Search from \"../Search\";\nconst CourseDetail = lazy(() => import('../Course/CourseDetails'));\nconst Header = lazy(() => import('../../share/Header'));\nconst SelectCategory = lazy(() => import('../../share/SelectCategory'));\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: \"20px\"\n  },\n  content: {\n    paddingRight: \"8vw\",\n    paddingLeft: \"8vw\"\n  },\n  divider: {\n    marginBottom: 20\n  },\n  circular: {\n    marginTop: 20\n  },\n  button: {\n    background: theme.palette.primary.main,\n    borderRadius: 40,\n    padding: '15px 30px 15px 30px',\n    margin: 10\n  }\n}));\nexport default function GroupCourse(props) {\n  const dispatch = useDispatch();\n  const {\n    courses,\n    isLoadingCourses\n  } = useSelector(state => state.course);\n  const classes = useStyles();\n  const {\n    search\n  } = useLocation();\n  const {\n    q\n  } = parse(search);\n  const postsPerPage = 8;\n  const [postsToShow, setPostsToShow] = useState([]);\n  const [next, setNext] = useState(8);\n\n  const loopWithSlice = (start, end) => {\n    const slicedPosts = courses.filter(item => item.name.toLowerCase().includes(q) || item.code.toLowerCase().includes(q) || item.learningTopic.toLowerCase().includes(q) || item.platformId.toLowerCase().includes(q)).slice(start, end);\n    setPostsToShow([...postsToShow, ...slicedPosts]);\n  };\n\n  useEffect(() => {\n    loopWithSlice(0, postsPerPage); // eslint-disable-next-line\n  }, [isLoadingCourses]);\n\n  const handleShowMorePosts = () => {\n    loopWithSlice(next, next + postsPerPage);\n    setNext(next + postsPerPage);\n  };\n\n  useEffect(() => {\n    setPostsToShow([]);\n    const action = actions.loadCourses('all');\n    dispatch(action); // eslint-disable-next-line\n  }, [q]);\n\n  const renderLoader = () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  });\n\n  return /*#__PURE__*/React.createElement(Suspense, {\n    fallback: renderLoader(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    text: \"ค้นหารายวิชา\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    className: classes.content,\n    direction: \"row\",\n    alignItems: \"center\",\n    justify: \"space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32 \", q), /*#__PURE__*/React.createElement(SelectCategory, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    alignItems: \"center\",\n    justify: isLoadingCourses ? \"center\" : \"flex-start\",\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, isLoadingCourses && /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"secondary\",\n    className: classes.circular,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 46\n    }\n  }), courses.length === 0 && !isLoadingCourses && /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    alignItems: \"center\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 33\n    }\n  }, \"\\u0E02\\u0E2D\\u0E2D\\u0E20\\u0E31\\u0E22\\u0E04\\u0E48\\u0E30 \\u0E2B\\u0E32\\u0E23\\u0E32\\u0E22\\u0E27\\u0E34\\u0E0A\\u0E32\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A \", q), /*#__PURE__*/React.createElement(\"img\", {\n    src: searchNotfound,\n    alt: \"\",\n    width: \"400px\",\n    height: \"400px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  })), postsToShow.map((item, index) => /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4,\n    lg: 3,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(CourseDetail, {\n    key: index,\n    id: item.id,\n    learningTopic: item.learningTopic,\n    learningObjective: item.learningObjective,\n    courseCategoryId: item.courseCategoryId,\n    thumbnail: item.thumbnail,\n    viewCount: item.viewCount,\n    assessment: item.assessment,\n    targetGroup: item.targetGroup,\n    point: item.satisfactionSum / item.satisfactionCount,\n    satisfactionCount: item.satisfactionCount,\n    link: item.link,\n    code: item.code,\n    name: item.name,\n    platformId: item.platformId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 33\n    }\n  })))), !isLoadingCourses && next < courses.length && /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    alignItems: \"center\",\n    justify: \"center\",\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleShowMorePosts,\n    color: \"secondary\",\n    className: classes.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  }, \"\\u0E14\\u0E39\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\")))));\n}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/coursePortal/components/Search/index.tsx"],"names":["React","useEffect","Suspense","lazy","useState","Grid","Divider","Container","CircularProgress","Button","makeStyles","useLocation","parse","useDispatch","useSelector","actions","searchNotfound","Search","CourseDetail","Header","SelectCategory","useStyles","theme","root","paddingTop","content","paddingRight","paddingLeft","divider","marginBottom","circular","marginTop","button","background","palette","primary","main","borderRadius","padding","margin","GroupCourse","props","dispatch","courses","isLoadingCourses","state","course","classes","search","q","postsPerPage","postsToShow","setPostsToShow","next","setNext","loopWithSlice","start","end","slicedPosts","filter","item","name","toLowerCase","includes","code","learningTopic","platformId","slice","handleShowMorePosts","action","loadCourses","renderLoader","length","map","index","id","learningObjective","courseCategoryId","thumbnail","viewCount","assessment","targetGroup","satisfactionSum","satisfactionCount","link"],"mappings":"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","sourcesContent":["import React, { useEffect, Suspense, lazy, useState } from \"react\";\nimport { Grid, Divider, Container, CircularProgress, Button } from \"@material-ui/core\";\n\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { useLocation } from \"react-router-dom\"\nimport { parse } from \"query-string\"\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as actions from \"../../actions\"\nimport searchNotfound from \"assets/gif/somethingbroken.gif\"\nimport Search from \"../Search\"\nconst CourseDetail = lazy(() => import('../Course/CourseDetails'));\nconst Header = lazy(() => import('../../share/Header'));\nconst SelectCategory = lazy(() => import('../../share/SelectCategory'));\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        paddingTop: \"20px\"\n    },\n    content: {\n        paddingRight: \"8vw\",\n        paddingLeft: \"8vw\",\n    },\n    divider: {\n        marginBottom: 20\n    },\n    circular: {\n        marginTop: 20\n    }, button: {\n        background: theme.palette.primary.main,\n        borderRadius: 40,\n        padding: '15px 30px 15px 30px',\n        margin: 10\n    }\n\n}));\nexport default function GroupCourse(props: any) {\n    const dispatch = useDispatch();\n    const { courses, isLoadingCourses } = useSelector((state: any) => state.course);\n    const classes = useStyles()\n    const { search } = useLocation()\n    const { q } = parse(search)\n    const postsPerPage = 8;\n    const [postsToShow, setPostsToShow] = useState<any>([]);\n    const [next, setNext] = useState(8);\n    const loopWithSlice = (start: any, end: any) => {\n        const slicedPosts = courses.filter((item: any) => item.name.toLowerCase().includes(q)\n            ||\n            item.code.toLowerCase().includes(q)\n            ||\n            item.learningTopic.toLowerCase().includes(q)\n            ||\n            item.platformId.toLowerCase().includes(q)\n        ).slice(start, end);\n        setPostsToShow([...postsToShow, ...slicedPosts]);\n    };\n\n    useEffect(() => {\n        loopWithSlice(0, postsPerPage);\n        // eslint-disable-next-line\n    }, [isLoadingCourses]);\n\n    const handleShowMorePosts = () => {\n        loopWithSlice(next, next + postsPerPage);\n        setNext(next + postsPerPage);\n    }\n    useEffect(() => {\n        setPostsToShow([])\n        const action = actions.loadCourses('all')\n        dispatch(action)\n        // eslint-disable-next-line\n    }, [q])\n\n\n\n    const renderLoader = () =>\n        <div></div>\n\n    return (\n        <Suspense fallback={renderLoader()}>\n            <Header text={\"ค้นหารายวิชา\"} />\n\n\n            <div className={classes.root}>\n\n                <Search />\n\n                <Grid container className={classes.content} direction=\"row\" alignItems=\"center\" justify={\"space-between\"} >\n\n                    <h2>ค้นหา {q}</h2>\n                    <SelectCategory />\n\n                </Grid>\n                <Divider className={classes.divider} />\n\n                <Container maxWidth=\"lg\">\n                    <Grid\n                        container\n                        direction=\"row\"\n                        alignItems=\"center\"\n                        justify={isLoadingCourses ? \"center\" : \"flex-start\"}\n                        spacing={3}\n                    >\n\n                        {isLoadingCourses && <CircularProgress color=\"secondary\" className={classes.circular} />}\n                        {courses.length === 0 && !isLoadingCourses &&\n\n                            <Grid\n                                container\n                                direction=\"row\"\n                                alignItems=\"center\"\n                                justify={\"center\"}\n                            >\n                                <h2>ขออภัยค่ะ หารายวิชาไม่พบ {q}</h2>\n                                <img src={searchNotfound} alt=\"\" width=\"400px\" height=\"400px\" />\n\n                            </Grid>\n                        }\n                        {postsToShow.map((item: any, index: number) => (\n                            <Grid item xs={12} sm={6} md={4} lg={3} xl={3}>\n                                <CourseDetail\n                                    key={index}\n                                    id={item.id}\n                                    learningTopic={item.learningTopic}\n                                    learningObjective={item.learningObjective}\n                                    courseCategoryId={item.courseCategoryId}\n                                    thumbnail={item.thumbnail}\n                                    viewCount={item.viewCount}\n                                    assessment={item.assessment}\n                                    targetGroup={item.targetGroup}\n                                    point={(item.satisfactionSum) / item.satisfactionCount}\n                                    satisfactionCount={item.satisfactionCount}\n                                    link={item.link}\n                                    code={item.code}\n                                    name={item.name}\n                                    platformId={item.platformId}\n                                />\n                            </Grid>\n                        ))\n                        }\n                    </Grid>\n                    {!isLoadingCourses && next < courses.length &&\n                        <Grid\n                            container\n                            direction=\"row\"\n                            alignItems=\"center\"\n                            justify={\"center\"}\n                            spacing={3}\n                        >\n\n                            <Button onClick={handleShowMorePosts} color=\"secondary\" className={classes.button}>ดูเพิ่มเติม</Button>\n                        </Grid>}\n                </Container>\n            </div>\n\n        </Suspense>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}