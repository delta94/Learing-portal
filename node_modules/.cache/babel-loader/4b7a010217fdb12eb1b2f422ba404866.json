{"ast":null,"code":"import _objectSpread from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import TextField from\"@material-ui/core/TextField\";import Autocomplete from\"@material-ui/lab/Autocomplete\";import CircularProgress from\"@material-ui/core/CircularProgress\";import React,{useEffect}from\"react\";import axios from\"axios\";import{getCookie}from'cookie/cookie';export default function Asynchronous(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),options=_React$useState4[0],setOptions=_React$useState4[1];var loading=open&&options.length===0;var platformid=getCookie('platformid');var setValue=props.setValue;useEffect(function(){var fetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/Platforms/\".concat(platformid,\"/Courses\"));case 3:response=_context.sent;setOptions(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetch(){return _ref.apply(this,arguments);};}();fetch();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/React.createElement(Autocomplete,{id:\"asynchronous-demo\",style:{width:300},open:open,clearOnEscape:true,disableCloseOnSelect:true,disableClearable:true,onOpen:function onOpen(){setOpen(true);},onClose:function onClose(){setOpen(false);},onChange:function onChange(event,newValue){setValue(newValue.id);},getOptionSelected:function getOptionSelected(option,value){return String(option.name)===String(value.name);},getOptionLabel:function getOptionLabel(option){return String(option.name);},options:options,loading:loading,renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(TextField,Object.assign({},params,{label:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2B\\u0E25\\u0E31\\u0E01\\u0E2A\\u0E39\\u0E15\\u0E23\",InputProps:_objectSpread(_objectSpread({},params.InputProps),{},{endAdornment:/*#__PURE__*/React.createElement(React.Fragment,null,loading?/*#__PURE__*/React.createElement(CircularProgress,{color:\"inherit\",size:20}):null,params.InputProps.endAdornment)})}));}});}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/adminPortal/components/TableSubCurriculum/SearchCourse.tsx"],"names":["TextField","Autocomplete","CircularProgress","React","useEffect","axios","getCookie","Asynchronous","props","useState","open","setOpen","options","setOptions","loading","length","platformid","setValue","fetch","get","response","data","console","log","width","event","newValue","id","option","value","String","name","params","InputProps","endAdornment"],"mappings":"woBAAA,MAAOA,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,eAA1B,CAMA,cAAe,SAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAAkC,qBACrBL,KAAK,CAACM,QAAN,CAAe,KAAf,CADqB,oDACtCC,IADsC,qBAChCC,OADgC,0CAEfR,KAAK,CAACM,QAAN,CAAoB,EAApB,CAFe,qDAEtCG,OAFsC,qBAE7BC,UAF6B,qBAG7C,GAAMC,CAAAA,OAAO,CAAGJ,IAAI,EAAIE,OAAO,CAACG,MAAR,GAAmB,CAA3C,CACA,GAAMC,CAAAA,UAAU,CAAGV,SAAS,CAAC,YAAD,CAA5B,CAJ6C,GAKrCW,CAAAA,QALqC,CAKxBT,KALwB,CAKrCS,QALqC,CAM7Cb,SAAS,CAAC,UAAM,CACZ,GAAMc,CAAAA,KAAK,0FAAG,sLAEiBb,CAAAA,KAAK,CAACc,GAAN,sBAAwBH,UAAxB,aAFjB,QAEAI,QAFA,eAGNP,UAAU,CAACO,QAAQ,CAACC,IAAV,CAAV,CAHM,+EAMNC,OAAO,CAACC,GAAR,cANM,oEAAH,kBAALL,CAAAA,KAAK,0CAAX,CAUAA,KAAK,GACL;AACH,CAbQ,CAaN,EAbM,CAAT,CAeA,mBAEI,oBAAC,YAAD,EACI,EAAE,CAAC,mBADP,CAEI,KAAK,CAAE,CAAEM,KAAK,CAAE,GAAT,CAFX,CAGI,IAAI,CAAEd,IAHV,CAII,aAAa,KAJjB,CAKI,oBAAoB,KALxB,CAMI,gBAAgB,KANpB,CAOI,MAAM,CAAE,iBAAM,CACVC,OAAO,CAAC,IAAD,CAAP,CACH,CATL,CAUI,OAAO,CAAE,kBAAM,CACXA,OAAO,CAAC,KAAD,CAAP,CACH,CAZL,CAcI,QAAQ,CAAE,kBAACc,KAAD,CAAQC,QAAR,CAAqB,CAC3BT,QAAQ,CAACS,QAAQ,CAACC,EAAV,CAAR,CACH,CAhBL,CAiBI,iBAAiB,CAAE,2BAACC,MAAD,CAAcC,KAAd,QAA6BC,CAAAA,MAAM,CAACF,MAAM,CAACG,IAAR,CAAN,GAAwBD,MAAM,CAACD,KAAK,CAACE,IAAP,CAA3D,EAjBvB,CAkBI,cAAc,CAAE,wBAACH,MAAD,QAAiBE,CAAAA,MAAM,CAACF,MAAM,CAACG,IAAR,CAAvB,EAlBpB,CAmBI,OAAO,CAAEnB,OAnBb,CAoBI,OAAO,CAAEE,OApBb,CAqBI,WAAW,CAAE,qBAACkB,MAAD,qBACT,oBAAC,SAAD,kBACQA,MADR,EAEI,KAAK,CAAC,gFAFV,CAKI,UAAU,gCACHA,MAAM,CAACC,UADJ,MAENC,YAAY,cACR,oBAAC,KAAD,CAAO,QAAP,MACKpB,OAAO,cACJ,oBAAC,gBAAD,EAAkB,KAAK,CAAC,SAAxB,CAAkC,IAAI,CAAE,EAAxC,EADI,CAEJ,IAHR,CAIKkB,MAAM,CAACC,UAAP,CAAkBC,YAJvB,CAHE,EALd,GADS,EArBjB,EAFJ,CA8CH","sourcesContent":["import TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport React, { useEffect } from \"react\";\nimport axios from \"axios\"\nimport { getCookie } from 'cookie/cookie'\n\n\n\n\n\nexport default function Asynchronous(props: any) {\n    const [open, setOpen] = React.useState(false);\n    const [options, setOptions] = React.useState<any>([]);\n    const loading = open && options.length === 0;\n    const platformid = getCookie('platformid');\n    const { setValue } = props\n    useEffect(() => {\n        const fetch = async () => {\n            try {\n                const response = await axios.get(`/Platforms/${platformid}/Courses`)\n                setOptions(response.data)\n\n            } catch (err) {\n                console.log(err)\n            }\n\n        }\n        fetch()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    return (\n\n        <Autocomplete\n            id=\"asynchronous-demo\"\n            style={{ width: 300 }}\n            open={open}\n            clearOnEscape\n            disableCloseOnSelect\n            disableClearable\n            onOpen={() => {\n                setOpen(true);\n            }}\n            onClose={() => {\n                setOpen(false);\n            }}\n\n            onChange={(event, newValue) => {\n                setValue(newValue.id)\n            }}\n            getOptionSelected={(option: any, value: any) => String(option.name) === String(value.name)}\n            getOptionLabel={(option: any) => String(option.name)}\n            options={options}\n            loading={loading}\n            renderInput={(params) => (\n                <TextField\n                    {...params}\n                    label=\"ค้นหาหลักสูตร\"\n\n\n                    InputProps={{\n                        ...params.InputProps,\n                        endAdornment: (\n                            <React.Fragment>\n                                {loading ? (\n                                    <CircularProgress color=\"inherit\" size={20} />\n                                ) : null}\n                                {params.InputProps.endAdornment}\n                            </React.Fragment>\n                        ),\n                    }}\n                />\n            )}\n        />\n\n\n    );\n}\n"]},"metadata":{},"sourceType":"module"}