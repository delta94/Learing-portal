{"ast":null,"code":"import _toConsumableArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,Suspense,lazy,useState}from\"react\";import{Grid,Divider,Container,CircularProgress,Button}from\"@material-ui/core\";import{makeStyles}from\"@material-ui/core/styles\";import{useDispatch,useSelector}from'react-redux';import*as actions from\"../../actions\";var CourseDetail=lazy(function(){return import('./CourseDetails');});var Header=lazy(function(){return import('../../share/Header');});var SelectCategory=lazy(function(){return import('../../share/SelectCategory');});var useStyles=makeStyles(function(theme){return{content:{paddingRight:\"8vw\",paddingLeft:\"8vw\"},divider:{marginBottom:20},circular:{marginTop:20},button:{background:theme.palette.primary.main,borderRadius:40,padding:'15px 30px 15px 30px',margin:10}};});export default function GroupCourse(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.course;}),courses=_useSelector.courses,isLoadingCourses=_useSelector.isLoadingCourses;var classes=useStyles();var postsPerPage=8;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),postsToShow=_useState2[0],setPostsToShow=_useState2[1];var _useState3=useState(8),_useState4=_slicedToArray(_useState3,2),next=_useState4[0],setNext=_useState4[1];var loopWithSlice=function loopWithSlice(start,end){var slicedPosts=courses.slice(start,end);setPostsToShow([].concat(_toConsumableArray(postsToShow),_toConsumableArray(slicedPosts)));};useEffect(function(){loopWithSlice(0,postsPerPage);// eslint-disable-next-line\n},[isLoadingCourses]);var handleShowMorePosts=function handleShowMorePosts(){loopWithSlice(next,next+postsPerPage);setNext(next+postsPerPage);};useEffect(function(){setPostsToShow([]);var action=actions.loadCourses(\"all\");dispatch(action);// eslint-disable-next-line\n},[]);var renderLoader=function renderLoader(){return/*#__PURE__*/React.createElement(\"div\",null);};return/*#__PURE__*/React.createElement(Suspense,{fallback:renderLoader()},/*#__PURE__*/React.createElement(Header,{text:\"รายวิชา\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Grid,{container:true,className:classes.content,direction:\"row\",alignItems:\"center\",justify:\"space-between\"},/*#__PURE__*/React.createElement(\"h2\",null,\"\\u0E23\\u0E32\\u0E22\\u0E27\\u0E34\\u0E0A\\u0E32\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"),/*#__PURE__*/React.createElement(SelectCategory,null)),/*#__PURE__*/React.createElement(Divider,{className:classes.divider}),/*#__PURE__*/React.createElement(Container,{maxWidth:\"lg\"},/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",alignItems:\"center\",justify:isLoadingCourses?\"center\":\"flex-start\",spacing:3},isLoadingCourses&&/*#__PURE__*/React.createElement(CircularProgress,{color:\"secondary\",className:classes.circular}),!isLoadingCourses&&postsToShow.length===0&&/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",alignItems:\"center\",justify:\"center\"},/*#__PURE__*/React.createElement(\"h1\",null,\"coming soon\")),postsToShow.map(function(item,index){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6,md:4,lg:3,xl:3},/*#__PURE__*/React.createElement(CourseDetail,{key:index,id:item.id,learningTopic:item.learningTopic,learningObjective:item.learningObjective,courseCategoryId:item.courseCategoryId,thumbnail:item.thumbnail,viewCount:item.viewCount,assessment:item.assessment,targetGroup:item.targetGroup,point:item.satisfactionSum/item.satisfactionCount,satisfactionCount:item.satisfactionCount,link:item.link,code:item.code,name:item.name,platformId:item.platformId}));})),!isLoadingCourses&&next<courses.length&&/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",alignItems:\"center\",justify:\"center\",spacing:3},/*#__PURE__*/React.createElement(Button,{onClick:handleShowMorePosts,color:\"secondary\",className:classes.button},\"\\u0E14\\u0E39\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\")))));}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/coursePortal/components/Course/GroupAllCourse.tsx"],"names":["React","useEffect","Suspense","lazy","useState","Grid","Divider","Container","CircularProgress","Button","makeStyles","useDispatch","useSelector","actions","CourseDetail","Header","SelectCategory","useStyles","theme","content","paddingRight","paddingLeft","divider","marginBottom","circular","marginTop","button","background","palette","primary","main","borderRadius","padding","margin","GroupCourse","dispatch","state","course","courses","isLoadingCourses","classes","postsPerPage","postsToShow","setPostsToShow","next","setNext","loopWithSlice","start","end","slicedPosts","slice","handleShowMorePosts","action","loadCourses","renderLoader","length","map","item","index","id","learningTopic","learningObjective","courseCategoryId","thumbnail","viewCount","assessment","targetGroup","satisfactionSum","satisfactionCount","link","code","name","platformId"],"mappings":"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","sourcesContent":["import React, { useEffect, Suspense, lazy, useState } from \"react\";\nimport { Grid, Divider, Container, CircularProgress, Button } from \"@material-ui/core\";\n\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as actions from \"../../actions\"\nimport { CardProps } from \"./tyscript\"\nconst CourseDetail = lazy(() => import('./CourseDetails'));\nconst Header = lazy(() => import('../../share/Header'));\nconst SelectCategory = lazy(() => import('../../share/SelectCategory'));\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    content: {\n        paddingRight: \"8vw\",\n        paddingLeft: \"8vw\",\n    },\n    divider: {\n        marginBottom: 20\n    }, circular: {\n        marginTop: 20\n    }, button: {\n        background: theme.palette.primary.main,\n        borderRadius: 40,\n        padding: '15px 30px 15px 30px',\n        margin: 10\n    }\n\n}));\n\n\n\nexport default function GroupCourse() {\n    const dispatch = useDispatch();\n    const { courses, isLoadingCourses } = useSelector((state: any) => state.course);\n    const classes = useStyles()\n    const postsPerPage = 8;\n    const [postsToShow, setPostsToShow] = useState<CardProps[]>([]);\n    const [next, setNext] = useState(8);\n    const loopWithSlice = (start: any, end: any) => {\n        const slicedPosts = courses.slice(start, end);\n        setPostsToShow([...postsToShow, ...slicedPosts]);\n    };\n\n    useEffect(() => {\n        loopWithSlice(0, postsPerPage);\n        // eslint-disable-next-line\n    }, [isLoadingCourses]);\n\n    const handleShowMorePosts = () => {\n        loopWithSlice(next, next + postsPerPage);\n        setNext(next + postsPerPage);\n    };\n    useEffect(() => {\n        setPostsToShow([])\n        const action = actions.loadCourses(\"all\")\n        dispatch(action)\n        // eslint-disable-next-line\n    }, [])\n\n\n    const renderLoader = () =>\n        <div></div>\n\n    return (\n        <Suspense fallback={renderLoader()}>\n            <Header text={\"รายวิชา\"} />\n\n\n            <div>\n\n                <Grid container className={classes.content} direction=\"row\" alignItems=\"center\" justify={\"space-between\"} >\n\n                    <h2>รายวิชาทั้งหมด</h2>\n                    <SelectCategory />\n\n                </Grid>\n                <Divider className={classes.divider} />\n\n                <Container maxWidth=\"lg\">\n                    <Grid\n                        container\n                        direction=\"row\"\n                        alignItems=\"center\"\n                        justify={isLoadingCourses ? \"center\" : \"flex-start\"}\n                        spacing={3}\n                    >\n                        {isLoadingCourses && <CircularProgress color=\"secondary\" className={classes.circular} />}\n                        {!isLoadingCourses && postsToShow.length === 0 &&\n                            <Grid container direction=\"row\" alignItems=\"center\" justify=\"center\" >\n                                <h1>coming soon</h1>\n                            </Grid>\n\n                        }\n                        {postsToShow.map((item: any, index: number) => (\n\n                            <Grid item xs={12} sm={6} md={4} lg={3} xl={3}>\n\n                                <CourseDetail\n                                    key={index}\n                                    id={item.id}\n                                    learningTopic={item.learningTopic}\n                                    learningObjective={item.learningObjective}\n                                    courseCategoryId={item.courseCategoryId}\n                                    thumbnail={item.thumbnail}\n                                    viewCount={item.viewCount}\n                                    assessment={item.assessment}\n                                    targetGroup={item.targetGroup}\n                                    point={(item.satisfactionSum) / item.satisfactionCount}\n                                    satisfactionCount={item.satisfactionCount}\n                                    link={item.link}\n                                    code={item.code}\n                                    name={item.name}\n                                    platformId={item.platformId}\n                                />\n\n                            </Grid>\n\n                        ))\n                        }\n\n                    </Grid>\n\n                    {!isLoadingCourses && next < courses.length &&\n                        <Grid\n                            container\n                            direction=\"row\"\n                            alignItems=\"center\"\n                            justify={\"center\"}\n                            spacing={3}\n                        >\n\n                            <Button onClick={handleShowMorePosts} color=\"secondary\" className={classes.button}>ดูเพิ่มเติม</Button>\n                        </Grid>}\n                </Container>\n            </div>\n\n        </Suspense>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}