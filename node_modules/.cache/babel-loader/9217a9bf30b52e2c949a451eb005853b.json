{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import*as infoactions from\"modules/infomation/actions\";var LOAD_FORGOT_REQUEST=\"learning-portal/src/ui/LOAD_FORGOT_REQUEST\";var LOAD_FORGOT_SUCCESS=\"learning-portal/src/ui/LOAD_FORGOT_SUCCESS\";var LOAD_FORGOT_FAILURE=\"learning-portal/src/ui/LOAD_FORGOT_REQUEST\";function loadFORGOT(updateInfo,id){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var data,action,_action,_action2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:LOAD_FORGOT_REQUEST});_context.prev=1;_context.next=4;return axios.put(\"/Users/\".concat(id,\"/ForgetPassword\"),updateInfo,{headers:{\"Content-Type\":\"application/json\"}});case 4:data=_context.sent;action=infoactions.loadMessage(\"\\u0E44\\u0E14\\u0E49\\u0E17\\u0E33\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E48\\u0E07\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E43\\u0E2B\\u0E21\\u0E48\\u0E17\\u0E32\\u0E07 \".concat(updateInfo.email,\" \\u0E40\\u0E23\\u0E35\\u0E22\\u0E1A\\u0E23\\u0E49\\u0E2D\\u0E22\\u0E40\\u0E40\\u0E25\\u0E49\\u0E27\"),\"success\");dispatch(action);dispatch({type:LOAD_FORGOT_SUCCESS,payload:{message:\"\\u0E44\\u0E14\\u0E49\\u0E17\\u0E33\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E48\\u0E07\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E43\\u0E2B\\u0E21\\u0E48\\u0E17\\u0E32\\u0E07 \".concat(updateInfo.email,\" \\u0E40\\u0E23\\u0E35\\u0E22\\u0E1A\\u0E23\\u0E49\\u0E2D\\u0E22\\u0E40\\u0E40\\u0E25\\u0E49\\u0E27\"),data:data.data,status:data.status}});_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);dispatch({type:LOAD_FORGOT_FAILURE,payload:{message:\"เกิดข้อผิดพลาด\",staus:_context.t0.response.status}});if(_context.t0.response.status===404){_action=infoactions.loadMessage(\"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\",\"error\");dispatch(_action);}else{_action2=infoactions.loadMessage(\"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14 \".concat(_context.t0.response.status,\" \\u0E40\\u0E23\\u0E35\\u0E22\\u0E1A\\u0E23\\u0E49\\u0E2D\\u0E22\\u0E40\\u0E40\\u0E25\\u0E49\\u0E27\"),\"error\");dispatch(_action2);}case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();}export{LOAD_FORGOT_REQUEST,LOAD_FORGOT_SUCCESS,LOAD_FORGOT_FAILURE,loadFORGOT};","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/forgetPassword/actions.tsx"],"names":["axios","infoactions","LOAD_FORGOT_REQUEST","LOAD_FORGOT_SUCCESS","LOAD_FORGOT_FAILURE","loadFORGOT","updateInfo","id","dispatch","type","put","headers","data","action","loadMessage","email","payload","message","status","staus","response"],"mappings":"mUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,4BAA7B,CAEA,GAAMC,CAAAA,mBAAmB,CAAG,4CAA5B,CACA,GAAMC,CAAAA,mBAAmB,CAAG,4CAA5B,CACA,GAAMC,CAAAA,mBAAmB,CAAG,4CAA5B,CAEA,QAASC,CAAAA,UAAT,CAAoBC,UAApB,CAAqCC,EAArC,CAAiD,CAC7C,+FAAO,iBAAOC,QAAP,mJACHA,QAAQ,CAAC,CAAEC,IAAI,CAAEP,mBAAR,CAAD,CAAR,CADG,sCAGoBF,CAAAA,KAAK,CAACU,GAAN,kBAAoBH,EAApB,oBAAyCD,UAAzC,CAAqD,CACpEK,OAAO,CAAE,CACL,eAAgB,kBADX,CAD2D,CAArD,CAHpB,QAGOC,IAHP,eAQOC,MARP,CAQgBZ,WAAW,CAACa,WAAZ,wKAAsDR,UAAU,CAACS,KAAjE,0FAAyF,SAAzF,CARhB,CASCP,QAAQ,CAACK,MAAD,CAAR,CACAL,QAAQ,CAAC,CACLC,IAAI,CAAEN,mBADD,CAELa,OAAO,CAAE,CACLC,OAAO,wKAAgCX,UAAU,CAACS,KAA3C,yFADF,CAELH,IAAI,CAAEA,IAAI,CAACA,IAFN,CAGLM,MAAM,CAAEN,IAAI,CAACM,MAHR,CAFJ,CAAD,CAAR,CAVD,iFAmBCV,QAAQ,CAAC,CACLC,IAAI,CAAEL,mBADD,CAELY,OAAO,CAAE,CACLC,OAAO,CAAE,gBADJ,CAELE,KAAK,CAAE,YAAIC,QAAJ,CAAaF,MAFf,CAFJ,CAAD,CAAR,CAOA,GAAI,YAAIE,QAAJ,CAAaF,MAAb,GAAwB,GAA5B,CAAiC,CACvBL,OADuB,CACdZ,WAAW,CAACa,WAAZ,sHAA+C,OAA/C,CADc,CAE7BN,QAAQ,CAACK,OAAD,CAAR,CACH,CAHD,IAIK,CACKA,QADL,CACcZ,WAAW,CAACa,WAAZ,gGAA0C,YAAIM,QAAJ,CAAaF,MAAvD,0FAAgF,OAAhF,CADd,CAEDV,QAAQ,CAACK,QAAD,CAAR,CACH,CAjCF,qEAAP,+DAqCH,CAED,OACIX,mBADJ,CAEIC,mBAFJ,CAGIC,mBAHJ,CAIIC,UAJJ","sourcesContent":["import axios from \"axios\";\nimport * as infoactions from \"modules/infomation/actions\"\n\nconst LOAD_FORGOT_REQUEST = \"learning-portal/src/ui/LOAD_FORGOT_REQUEST\";\nconst LOAD_FORGOT_SUCCESS = \"learning-portal/src/ui/LOAD_FORGOT_SUCCESS\";\nconst LOAD_FORGOT_FAILURE = \"learning-portal/src/ui/LOAD_FORGOT_REQUEST\";\n\nfunction loadFORGOT(updateInfo: any, id: string) {\n    return async (dispatch: any) => {\n        dispatch({ type: LOAD_FORGOT_REQUEST });\n        try {\n            const data = await axios.put(`/Users/${id}/ForgetPassword`, updateInfo, {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            });\n            const action = infoactions.loadMessage(`ได้ทำการส่งรหัสผ่านใหม่ทาง ${updateInfo.email} เรียบร้อยเเล้ว`, \"success\")\n            dispatch(action)\n            dispatch({\n                type: LOAD_FORGOT_SUCCESS,\n                payload: {\n                    message: `ได้ทำการส่งรหัสผ่านใหม่ทาง ${updateInfo.email} เรียบร้อยเเล้ว`,\n                    data: data.data,\n                    status: data.status\n                },\n            });\n        } catch (err) {\n            dispatch({\n                type: LOAD_FORGOT_FAILURE,\n                payload: {\n                    message: \"เกิดข้อผิดพลาด\",\n                    staus: err.response.status\n                },\n            });\n            if (err.response.status === 404) {\n                const action = infoactions.loadMessage(`ไม่พบเลขบัตรประชาชน`, \"error\")\n                dispatch(action)\n            }\n            else {\n                const action = infoactions.loadMessage(`เกิดข้อผิดพลาด ${err.response.status} เรียบร้อยเเล้ว`, \"error\")\n                dispatch(action)\n            }\n\n        }\n    };\n}\n\nexport {\n    LOAD_FORGOT_REQUEST,\n    LOAD_FORGOT_SUCCESS,\n    LOAD_FORGOT_FAILURE,\n    loadFORGOT,\n};"]},"metadata":{},"sourceType":"module"}