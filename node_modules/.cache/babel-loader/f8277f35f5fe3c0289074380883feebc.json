{"ast":null,"code":"var _jsxFileName = \"/Users/ninew/Documents/GitHub/Learing-portal/src/modules/coursePortal/components/Course/GroupCourse.tsx\";\nimport React, { useEffect, Suspense, lazy, useState } from \"react\";\nimport { Grid, Divider, Container, CircularProgress, Button } from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport categoryFormat from \"utils/categoryFormat\";\nimport { useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as actions from \"../../actions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst Header = lazy(() => import('../../share/Header'));\nconst SelectCategory = lazy(() => import('../../share/SelectCategory'));\nconst CourseDetail = lazy(() => import('./CourseDetails'));\nconst useStyles = makeStyles(theme => ({\n  content: {\n    paddingRight: \"8vw\",\n    paddingLeft: \"8vw\"\n  },\n  divider: {\n    marginBottom: 20\n  },\n  circular: {\n    marginTop: 20\n  },\n  button: {\n    background: theme.palette.primary.main,\n    borderRadius: 40,\n    padding: '15px 30px 15px 30px',\n    margin: 10\n  }\n}));\nexport default function GroupCourse(props) {\n  const {\n    search\n  } = useLocation();\n  const {\n    category\n  } = queryString.parse(search);\n  const dispatch = useDispatch();\n  const parsed = queryString.parse(search);\n  const {\n    courseCategories,\n    isLoadingCourseCategories\n  } = useSelector(state => state.course);\n  const classes = useStyles();\n  const postsPerPage = 8;\n  const [postsToShow, setPostsToShow] = useState([]);\n  const [next, setNext] = useState(8);\n\n  const loopWithSlice = (start, end) => {\n    const slicedPosts = courseCategories.slice(start, end);\n    setPostsToShow([...postsToShow, ...slicedPosts]);\n  };\n\n  useEffect(() => {\n    loopWithSlice(0, postsPerPage); // eslint-disable-next-line\n  }, [isLoadingCourseCategories]);\n\n  const handleShowMorePosts = () => {\n    loopWithSlice(next, next + postsPerPage);\n    setNext(next + postsPerPage);\n  };\n\n  const renderLoader = () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  });\n\n  useEffect(() => {\n    setPostsToShow([]);\n    const action = actions.loadCourseCategories(parsed.category === undefined ? 1 : parsed.category);\n    dispatch(action); // eslint-disable-next-line\n  }, [parsed.category]);\n  return /*#__PURE__*/React.createElement(Suspense, {\n    fallback: renderLoader(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    text: \"รายวิชา\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    className: classes.content,\n    direction: \"row\",\n    alignItems: \"center\",\n    justify: \"space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, categoryFormat(category)), /*#__PURE__*/React.createElement(SelectCategory, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    style: {\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    alignItems: \"center\",\n    justify: isLoadingCourseCategories ? \"center\" : \"flex-start\",\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, isLoadingCourseCategories && /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"secondary\",\n    className: classes.circular,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 43\n    }\n  }), courseCategories.map((item, index) => /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4,\n    lg: 3,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CourseDetail, {\n    key: index,\n    id: item.id,\n    learningTopic: item.learningTopic,\n    learningObjective: item.learningObjective,\n    courseCategoryId: item.courseCategoryId,\n    thumbnail: item.thumbnail,\n    viewCount: item.viewCount,\n    assessment: item.assessment,\n    targetGroup: item.targetGroup,\n    point: item.satisfactionSum / item.satisfactionCount,\n    satisfactionCount: item.satisfactionCount,\n    link: item.link,\n    code: item.code,\n    name: item.name,\n    platformId: item.platformId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  })))), !isLoadingCourseCategories && next <= courseCategories.length && /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    alignItems: \"center\",\n    justify: \"center\",\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleShowMorePosts,\n    color: \"secondary\",\n    className: classes.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, \"\\u0E14\\u0E39\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\")))));\n}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/coursePortal/components/Course/GroupCourse.tsx"],"names":["React","useEffect","Suspense","lazy","useState","Grid","Divider","Container","CircularProgress","Button","queryString","categoryFormat","useLocation","useDispatch","useSelector","actions","makeStyles","Header","SelectCategory","CourseDetail","useStyles","theme","content","paddingRight","paddingLeft","divider","marginBottom","circular","marginTop","button","background","palette","primary","main","borderRadius","padding","margin","GroupCourse","props","search","category","parse","dispatch","parsed","courseCategories","isLoadingCourseCategories","state","course","classes","postsPerPage","postsToShow","setPostsToShow","next","setNext","loopWithSlice","start","end","slicedPosts","slice","handleShowMorePosts","renderLoader","action","loadCourseCategories","undefined","map","item","index","id","learningTopic","learningObjective","courseCategoryId","thumbnail","viewCount","assessment","targetGroup","satisfactionSum","satisfactionCount","link","code","name","platformId","length"],"mappings":"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","sourcesContent":["import React, { useEffect, Suspense, lazy, useState } from \"react\";\nimport { Grid, Divider, Container, CircularProgress, Button } from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport categoryFormat from \"utils/categoryFormat\"\nimport { useLocation } from \"react-router-dom\";\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as actions from \"../../actions\"\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n\n\nconst Header = lazy(() => import('../../share/Header'));\nconst SelectCategory = lazy(() => import('../../share/SelectCategory'));\nconst CourseDetail = lazy(() => import('./CourseDetails'));\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    paddingRight: \"8vw\",\n    paddingLeft: \"8vw\",\n  },\n  divider: {\n    marginBottom: 20\n  },\n  circular: {\n    marginTop: 20\n  }, button: {\n    background: theme.palette.primary.main,\n    borderRadius: 40,\n    padding: '15px 30px 15px 30px',\n    margin: 10\n  }\n\n}));\n\n\nexport default function GroupCourse(props: any) {\n  const { search } = useLocation();\n  const { category } = queryString.parse(search);\n  const dispatch = useDispatch();\n  const parsed = queryString.parse(search)\n  const { courseCategories, isLoadingCourseCategories } = useSelector((state: any) => state.course);\n  const classes = useStyles()\n  const postsPerPage = 8;\n  const [postsToShow, setPostsToShow] = useState<any>([]);\n  const [next, setNext] = useState(8);\n  const loopWithSlice = (start: any, end: any) => {\n    const slicedPosts = courseCategories.slice(start, end);\n    setPostsToShow([...postsToShow, ...slicedPosts]);\n  };\n\n  useEffect(() => {\n    loopWithSlice(0, postsPerPage);\n    // eslint-disable-next-line\n  }, [isLoadingCourseCategories]);\n\n  const handleShowMorePosts = () => {\n    loopWithSlice(next, next + postsPerPage);\n    setNext(next + postsPerPage);\n  }\n\n  const renderLoader = () =>\n    <div></div>\n\n  useEffect(() => {\n    setPostsToShow([])\n    const action = actions.loadCourseCategories(parsed.category === undefined ? 1 : parsed.category)\n    dispatch(action)\n\n\n    // eslint-disable-next-line\n  }, [parsed.category])\n\n  return (\n    <Suspense fallback={renderLoader()}>\n      <Header text={\"รายวิชา\"} />\n      <div>\n        <Grid container direction=\"row\" alignItems=\"center\">\n\n          <Grid container className={classes.content} direction=\"row\" alignItems=\"center\" justify={\"space-between\"} >\n\n            <h2>{categoryFormat(category)}</h2>\n            <SelectCategory />\n\n          </Grid>\n        </Grid>\n        <Divider style={{ marginBottom: 20 }} />\n\n        <Container maxWidth=\"lg\">\n          <Grid\n            container\n            direction=\"row\"\n            alignItems=\"center\"\n            justify={isLoadingCourseCategories ? \"center\" : \"flex-start\"}\n            spacing={3}\n          >\n            {isLoadingCourseCategories && <CircularProgress color=\"secondary\" className={classes.circular} />}\n            {courseCategories.map((item: any, index: number) => (\n              <Grid item xs={12} sm={6} md={4} lg={3} xl={3}>\n                <CourseDetail\n                  key={index}\n                  id={item.id}\n                  learningTopic={item.learningTopic}\n                  learningObjective={item.learningObjective}\n                  courseCategoryId={item.courseCategoryId}\n                  thumbnail={item.thumbnail}\n                  viewCount={item.viewCount}\n                  assessment={item.assessment}\n                  targetGroup={item.targetGroup}\n                  point={(item.satisfactionSum) / item.satisfactionCount}\n                  satisfactionCount={item.satisfactionCount}\n                  link={item.link}\n                  code={item.code}\n                  name={item.name}\n                  platformId={item.platformId}\n                />\n              </Grid>\n            ))}\n          </Grid>\n          {!isLoadingCourseCategories && next <= courseCategories.length &&\n            <Grid\n              container\n              direction=\"row\"\n              alignItems=\"center\"\n              justify={\"center\"}\n              spacing={3}\n            >\n\n              <Button onClick={handleShowMorePosts} color=\"secondary\" className={classes.button}>ดูเพิ่มเติม</Button>\n            </Grid>}\n        </Container>\n      </div>\n    </Suspense>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}