{"ast":null,"code":"import axios from \"axios\";\nimport { getCookie } from 'cookie/cookie';\nimport * as infoactions from \"modules/infomation/actions\";\nconst LOAD_EDIT_REQUEST = \"learning-portal/src/ui/LOAD_EDIT_REQUEST\";\nconst LOAD_EDIT_SUCCESS = \"learning-portal/src/ui/LOAD_EDIT_SUCCESS\";\nconst LOAD_EDIT_FAILURE = \"learning-portal/src/ui/LOAD_EDIT_FAILURE\";\nconst LOAD_PROFILE_REQUEST = \"learning-portal/src/ui/LOAD_PROFILE_REQUEST\";\nconst LOAD_PROFILE_SUCCESS = \"learning-portal/src/ui/LOAD_PROFILE_SUCCESS\";\nconst LOAD_PROFILE_FAILURE = \"learning-portal/src/ui/LOAD_EDIT_FAILURE\";\n\nfunction loadGetProfile() {\n  return async dispatch => {\n    dispatch({\n      type: LOAD_PROFILE_REQUEST\n    });\n\n    try {\n      const id = getCookie('id');\n      const token = getCookie('token');\n      const data = await axios.get(`/Users/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch({\n        type: LOAD_PROFILE_SUCCESS,\n        payload: {\n          message: \"ท่านสมัครเรียบร้อยเเล้ว\",\n          data: data.data,\n          status: data.status\n        }\n      });\n    } catch (err) {\n      dispatch({\n        type: LOAD_PROFILE_FAILURE,\n        payload: {\n          message: \"เกิดข้อผิดพลาด\",\n          staus: err\n        }\n      });\n    }\n  };\n}\n\nfunction loadEdit(updateInfo) {\n  return async dispatch => {\n    dispatch({\n      type: LOAD_EDIT_REQUEST\n    });\n\n    try {\n      const id = getCookie('id');\n      const token = getCookie('token');\n      const data = await axios.put(`/Users/${id}`, updateInfo, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const action = infoactions.loadMessage(\"แก้ไขข้อมูลเรียบร้อยเเล้ว\", \"success\");\n      dispatch(action);\n      dispatch({\n        type: LOAD_EDIT_SUCCESS,\n        payload: {\n          message: \"ท่านสมัครเรียบร้อยเเล้ว\",\n          edit: data.data,\n          status: data.status\n        }\n      });\n    } catch (err) {\n      dispatch({\n        type: LOAD_EDIT_FAILURE,\n        payload: {\n          message: \"เกิดข้อผิดพลาด\",\n          staus: err.response.status\n        }\n      });\n      const action = infoactions.loadMessage(\"เกิดข้อผิดพลาดในการแก้ไขข้อมูล\", \"error\");\n      dispatch(action);\n    }\n  };\n}\n\nexport { LOAD_EDIT_REQUEST, LOAD_EDIT_SUCCESS, LOAD_EDIT_FAILURE, LOAD_PROFILE_REQUEST, LOAD_PROFILE_SUCCESS, LOAD_PROFILE_FAILURE, loadEdit, loadGetProfile };","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/editProfile/actions.tsx"],"names":["axios","getCookie","infoactions","LOAD_EDIT_REQUEST","LOAD_EDIT_SUCCESS","LOAD_EDIT_FAILURE","LOAD_PROFILE_REQUEST","LOAD_PROFILE_SUCCESS","LOAD_PROFILE_FAILURE","loadGetProfile","dispatch","type","id","token","data","get","headers","Authorization","payload","message","status","err","staus","loadEdit","updateInfo","put","action","loadMessage","edit","response"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { getCookie } from 'cookie/cookie'\nimport * as infoactions from \"modules/infomation/actions\"\n\nconst LOAD_EDIT_REQUEST = \"learning-portal/src/ui/LOAD_EDIT_REQUEST\";\nconst LOAD_EDIT_SUCCESS = \"learning-portal/src/ui/LOAD_EDIT_SUCCESS\";\nconst LOAD_EDIT_FAILURE = \"learning-portal/src/ui/LOAD_EDIT_FAILURE\";\nconst LOAD_PROFILE_REQUEST = \"learning-portal/src/ui/LOAD_PROFILE_REQUEST\";\nconst LOAD_PROFILE_SUCCESS = \"learning-portal/src/ui/LOAD_PROFILE_SUCCESS\";\nconst LOAD_PROFILE_FAILURE = \"learning-portal/src/ui/LOAD_EDIT_FAILURE\";\nfunction loadGetProfile() {\n    return async (dispatch: any) => {\n        dispatch({ type: LOAD_PROFILE_REQUEST });\n        try {\n            const id = getCookie('id')\n            const token = getCookie('token')\n            const data = await axios.get(`/Users/${id}`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            dispatch({\n                type: LOAD_PROFILE_SUCCESS,\n                payload: {\n                    message: \"ท่านสมัครเรียบร้อยเเล้ว\",\n                    data: data.data,\n                    status: data.status\n                },\n            });\n        } catch (err) {\n\n            dispatch({\n                type: LOAD_PROFILE_FAILURE,\n                payload: {\n                    message: \"เกิดข้อผิดพลาด\",\n                    staus: err\n                },\n            });\n        }\n    };\n}\n\nfunction loadEdit(updateInfo: any) {\n    return async (dispatch: any) => {\n        dispatch({ type: LOAD_EDIT_REQUEST });\n        try {\n            const id = getCookie('id')\n            const token = getCookie('token')\n            const data = await axios.put(`/Users/${id}`, updateInfo, {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n            const action = infoactions.loadMessage(\"แก้ไขข้อมูลเรียบร้อยเเล้ว\", \"success\")\n            dispatch(action)\n            dispatch({\n                type: LOAD_EDIT_SUCCESS,\n                payload: {\n                    message: \"ท่านสมัครเรียบร้อยเเล้ว\",\n                    edit: data.data,\n                    status: data.status\n                },\n            });\n        } catch (err) {\n            dispatch({\n                type: LOAD_EDIT_FAILURE,\n                payload: {\n                    message: \"เกิดข้อผิดพลาด\",\n                    staus: err.response.status\n                },\n            });\n            const action = infoactions.loadMessage(\"เกิดข้อผิดพลาดในการแก้ไขข้อมูล\", \"error\")\n            dispatch(action)\n        }\n    };\n}\n\nexport {\n    LOAD_EDIT_REQUEST,\n    LOAD_EDIT_SUCCESS,\n    LOAD_EDIT_FAILURE,\n    LOAD_PROFILE_REQUEST,\n    LOAD_PROFILE_SUCCESS,\n    LOAD_PROFILE_FAILURE,\n    loadEdit,\n    loadGetProfile\n};\n"]},"metadata":{},"sourceType":"module"}