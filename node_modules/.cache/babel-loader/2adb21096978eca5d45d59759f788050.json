{"ast":null,"code":"import _toConsumableArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{AddBox,Check,ChevronLeft,ChevronRight,Clear,DeleteOutline,Edit,FilterList,FirstPage,LastPage,Remove,SaveAlt,Search,ViewColumn,ArrowUpward}from\"@material-ui/icons\";import{getCookie}from\"cookie/cookie\";import MaterialTable from'material-table';import React,{useEffect,useState}from'react';import axios from'axios';import{forwardRef}from'react';export default function ReportTable(){var tableIcons={Add:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(AddBox,Object.assign({},props,{ref:ref}));}),Check:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Check,Object.assign({},props,{ref:ref}));}),Clear:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Clear,Object.assign({},props,{ref:ref}));}),Delete:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(DeleteOutline,Object.assign({},props,{ref:ref}));}),DetailPanel:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ChevronRight,Object.assign({},props,{ref:ref}));}),Edit:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Edit,Object.assign({},props,{ref:ref}));}),Export:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(SaveAlt,Object.assign({},props,{ref:ref}));}),Filter:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(FilterList,Object.assign({},props,{ref:ref}));}),FirstPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(FirstPage,Object.assign({},props,{ref:ref}));}),LastPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(LastPage,Object.assign({},props,{ref:ref}));}),NextPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ChevronRight,Object.assign({},props,{ref:ref}));}),PreviousPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ChevronLeft,Object.assign({},props,{ref:ref}));}),ResetSearch:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Clear,Object.assign({},props,{ref:ref}));}),Search:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Search,Object.assign({},props,{ref:ref}));}),SortArrow:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ArrowUpward,Object.assign({},props,{ref:ref}));}),ThirdStateCheck:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Remove,Object.assign({},props,{ref:ref}));}),ViewColumn:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ViewColumn,Object.assign({},props,{ref:ref}));})};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),entries=_useState2[0],setEntries=_useState2[1];var token=getCookie('token');var platformid=getCookie('platformid');var headers={Authorization:\"Bearer \".concat(token)};useEffect(function(){var fetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/Platforms/\".concat(platformid));case 3:response=_context.sent;setEntries([response.data]);_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setEntries([]);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetch(){return _ref.apply(this,arguments);};}();fetch();// eslint-disable-next-line\n},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MaterialTable,{icons:tableIcons,title:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E1A\\u0E38\\u0E04\\u0E04\\u0E25\",options:{pageSize:20,pageSizeOptions:[20,50,100]},columns:[{title:\"เลขประจำตัวประชาชน\",field:\"identNo\",type:\"string\"},{title:\"คำนำหน้าชื่อ\",field:\"title\",type:\"string\"},{title:\"ชื่อ\",field:\"firstName\",type:\"string\"},{title:\"นามสกุล\",field:\"lastName\",type:\"string\"},{title:\"เบอร์โทร\",field:\"phone\",type:\"string\"},{title:\"อีเมลล์\",field:\"email\",type:\"string\"}],data:entries,editable:{onRowUpdate:function onRowUpdate(newData,oldData){return new Promise(function(resolve){setTimeout(function(){//@ts-ignore\nresolve();var data=_toConsumableArray(entries);data[oldData.tableData.id]=newData;axios.put(\"/Platforms/\".concat(platformid),{id:data[oldData.tableData.id].id,officialName:data[oldData.tableData.id].officialName,abbreviation:data[oldData.tableData.id].abbreviation,thumbnail:data[oldData.tableData.id].thumbnail,link:data[oldData.tableData.id].link,curriculum:data[oldData.tableData.id].curriculum,course:data[oldData.tableData.id].course,identNo:newData.identNo,title:newData.title,firstName:newData.firstName,lastName:newData.lastName,phone:newData.phone,email:newData.email},{headers:headers}).then(function(res){return console.log(res.data);});setEntries(_toConsumableArray(data));},600);});}}}));}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/adminPortal/components/Person/index.tsx"],"names":["AddBox","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","ArrowUpward","getCookie","MaterialTable","React","useEffect","useState","axios","forwardRef","ReportTable","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","entries","setEntries","token","platformid","headers","Authorization","fetch","get","response","data","console","log","pageSize","pageSizeOptions","title","field","type","onRowUpdate","newData","oldData","Promise","resolve","setTimeout","tableData","id","put","officialName","abbreviation","thumbnail","link","curriculum","course","identNo","firstName","lastName","phone","email","then","res"],"mappings":"ipBAAA,OACEA,MADF,CAEEC,KAFF,CAGEC,WAHF,CAIEC,YAJF,CAKEC,KALF,CAMEC,aANF,CAOEC,IAPF,CAQEC,UARF,CASEC,SATF,CAUEC,QAVF,CAWEC,MAXF,CAYEC,OAZF,CAaEC,MAbF,CAcEC,UAdF,CAeEC,WAfF,KAgBO,oBAhBP,CAiBA,OAASC,SAAT,KAA0B,eAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,gBAA1B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,UAAT,KAA2B,OAA3B,CAGA,cAAe,SAASC,CAAAA,WAAT,EAAuB,CACpC,GAAMC,CAAAA,UAAU,CAAG,CACjBC,GAAG,CAAEH,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAC7B,oBAAC,MAAD,kBAAYD,KAAZ,EAAmB,GAAG,CAAEC,GAAxB,GAD6B,EAAhB,CADE,CAIjBzB,KAAK,CAAEoB,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAC/B,oBAAC,KAAD,kBAAWD,KAAX,EAAkB,GAAG,CAAEC,GAAvB,GAD+B,EAAhB,CAJA,CAOjBtB,KAAK,CAAEiB,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAC/B,oBAAC,KAAD,kBAAWD,KAAX,EAAkB,GAAG,CAAEC,GAAvB,GAD+B,EAAhB,CAPA,CAUjBC,MAAM,CAAEN,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAChC,oBAAC,aAAD,kBAAmBD,KAAnB,EAA0B,GAAG,CAAEC,GAA/B,GADgC,EAAhB,CAVD,CAajBE,WAAW,CAAEP,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBACrC,oBAAC,YAAD,kBAAkBD,KAAlB,EAAyB,GAAG,CAAEC,GAA9B,GADqC,EAAhB,CAbN,CAgBjBpB,IAAI,CAAEe,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAC9B,oBAAC,IAAD,kBAAUD,KAAV,EAAiB,GAAG,CAAEC,GAAtB,GAD8B,EAAhB,CAhBC,CAmBjBG,MAAM,CAAER,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAChC,oBAAC,OAAD,kBAAaD,KAAb,EAAoB,GAAG,CAAEC,GAAzB,GADgC,EAAhB,CAnBD,CAsBjBI,MAAM,CAAET,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAChC,oBAAC,UAAD,kBAAgBD,KAAhB,EAAuB,GAAG,CAAEC,GAA5B,GADgC,EAAhB,CAtBD,CAyBjBlB,SAAS,CAAEa,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBACnC,oBAAC,SAAD,kBAAeD,KAAf,EAAsB,GAAG,CAAEC,GAA3B,GADmC,EAAhB,CAzBJ,CA4BjBjB,QAAQ,CAAEY,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAClC,oBAAC,QAAD,kBAAcD,KAAd,EAAqB,GAAG,CAAEC,GAA1B,GADkC,EAAhB,CA5BH,CA+BjBK,QAAQ,CAAEV,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAClC,oBAAC,YAAD,kBAAkBD,KAAlB,EAAyB,GAAG,CAAEC,GAA9B,GADkC,EAAhB,CA/BH,CAkCjBM,YAAY,CAAEX,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBACtC,oBAAC,WAAD,kBAAiBD,KAAjB,EAAwB,GAAG,CAAEC,GAA7B,GADsC,EAAhB,CAlCP,CAqCjBO,WAAW,CAAEZ,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBACrC,oBAAC,KAAD,kBAAWD,KAAX,EAAkB,GAAG,CAAEC,GAAvB,GADqC,EAAhB,CArCN,CAwCjBd,MAAM,CAAES,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBAChC,oBAAC,MAAD,kBAAYD,KAAZ,EAAmB,GAAG,CAAEC,GAAxB,GADgC,EAAhB,CAxCD,CA2CjBQ,SAAS,CAAEb,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBACnC,oBAAC,WAAD,kBAAiBD,KAAjB,EAAwB,GAAG,CAAEC,GAA7B,GADmC,EAAhB,CA3CJ,CA8CjBS,eAAe,CAAEd,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBACzC,oBAAC,MAAD,kBAAYD,KAAZ,EAAmB,GAAG,CAAEC,GAAxB,GADyC,EAAhB,CA9CV,CAiDjBb,UAAU,CAAEQ,UAAU,CAAgB,SAACI,KAAD,CAAQC,GAAR,qBACpC,oBAAC,UAAD,kBAAgBD,KAAhB,EAAuB,GAAG,CAAEC,GAA5B,GADoC,EAAhB,CAjDL,CAAnB,CADoC,cAuDNP,QAAQ,CAAgB,EAAhB,CAvDF,wCAuD7BiB,OAvD6B,eAuDpBC,UAvDoB,eAwDpC,GAAMC,CAAAA,KAAK,CAAGvB,SAAS,CAAC,OAAD,CAAvB,CACA,GAAMwB,CAAAA,UAAU,CAAGxB,SAAS,CAAC,YAAD,CAA5B,CACA,GAAMyB,CAAAA,OAAO,CAAG,CACdC,aAAa,kBAAYH,KAAZ,CADC,CAAhB,CAIApB,SAAS,CAAC,UAAM,CACd,GAAMwB,CAAAA,KAAK,0FAAG,sLAEatB,CAAAA,KAAK,CAACuB,GAAN,sBAAwBJ,UAAxB,EAFb,QAEJK,QAFI,eAGVP,UAAU,CAAC,CAACO,QAAQ,CAACC,IAAV,CAAD,CAAV,CAHU,+EAKVC,OAAO,CAACC,GAAR,cACAV,UAAU,CAAC,EAAD,CAAV,CANU,oEAAH,kBAALK,CAAAA,KAAK,0CAAX,CAUAA,KAAK,GACL;AACD,CAbQ,CAaN,EAbM,CAAT,CAgBA,mBACE,qDAGE,oBAAC,aAAD,EACE,KAAK,CAAEnB,UADT,CAEE,KAAK,CAAC,4FAFR,CAGE,OAAO,CAAE,CACPyB,QAAQ,CAAE,EADH,CAEPC,eAAe,CAAE,CAAC,EAAD,CAAK,EAAL,CAAS,GAAT,CAFV,CAHX,CAOE,OAAO,CAAE,CACP,CAAEC,KAAK,CAAE,oBAAT,CAA+BC,KAAK,CAAE,SAAtC,CAAiDC,IAAI,CAAE,QAAvD,CADO,CAEP,CAAEF,KAAK,CAAE,cAAT,CAAyBC,KAAK,CAAE,OAAhC,CAAyCC,IAAI,CAAE,QAA/C,CAFO,CAGP,CAAEF,KAAK,CAAE,MAAT,CAAiBC,KAAK,CAAE,WAAxB,CAAqCC,IAAI,CAAE,QAA3C,CAHO,CAIP,CAAEF,KAAK,CAAE,SAAT,CAAoBC,KAAK,CAAE,UAA3B,CAAuCC,IAAI,CAAE,QAA7C,CAJO,CAKP,CAAEF,KAAK,CAAE,UAAT,CAAqBC,KAAK,CAAE,OAA5B,CAAqCC,IAAI,CAAE,QAA3C,CALO,CAMP,CAAEF,KAAK,CAAE,SAAT,CAAoBC,KAAK,CAAE,OAA3B,CAAoCC,IAAI,CAAE,QAA1C,CANO,CAPX,CAeE,IAAI,CAAEhB,OAfR,CAgBE,QAAQ,CAAE,CACRiB,WAAW,CAAE,qBAACC,OAAD,CAAuBC,OAAvB,QACX,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAa,CACvBC,UAAU,CAAC,UAAM,CACf;AACAD,OAAO,GACP,GAAMZ,CAAAA,IAAI,oBAAOT,OAAP,CAAV,CACAS,IAAI,CAACU,OAAO,CAACI,SAAR,CAAkBC,EAAnB,CAAJ,CAA6BN,OAA7B,CAEAlC,KAAK,CACFyC,GADH,sBAEkBtB,UAFlB,EAGI,CAAEqB,EAAE,CAAEf,IAAI,CAACU,OAAO,CAACI,SAAR,CAAkBC,EAAnB,CAAJ,CAA2BA,EAAjC,CAAqCE,YAAY,CAAEjB,IAAI,CAACU,OAAO,CAACI,SAAR,CAAkBC,EAAnB,CAAJ,CAA2BE,YAA9E,CAA4FC,YAAY,CAAElB,IAAI,CAACU,OAAO,CAACI,SAAR,CAAkBC,EAAnB,CAAJ,CAA2BG,YAArI,CAAmJC,SAAS,CAAEnB,IAAI,CAACU,OAAO,CAACI,SAAR,CAAkBC,EAAnB,CAAJ,CAA2BI,SAAzL,CAAoMC,IAAI,CAAEpB,IAAI,CAACU,OAAO,CAACI,SAAR,CAAkBC,EAAnB,CAAJ,CAA2BK,IAArO,CAA2OC,UAAU,CAAErB,IAAI,CAACU,OAAO,CAACI,SAAR,CAAkBC,EAAnB,CAAJ,CAA2BM,UAAlR,CAA8RC,MAAM,CAAEtB,IAAI,CAACU,OAAO,CAACI,SAAR,CAAkBC,EAAnB,CAAJ,CAA2BO,MAAjU,CAAyUC,OAAO,CAAEd,OAAO,CAACc,OAA1V,CAAmWlB,KAAK,CAAEI,OAAO,CAACJ,KAAlX,CAAyXmB,SAAS,CAAEf,OAAO,CAACe,SAA5Y,CAAuZC,QAAQ,CAAEhB,OAAO,CAACgB,QAAza,CAAmbC,KAAK,CAAEjB,OAAO,CAACiB,KAAlc,CAAycC,KAAK,CAAElB,OAAO,CAACkB,KAAxd,CAHJ,CAII,CAAEhC,OAAO,CAAPA,OAAF,CAJJ,EAMGiC,IANH,CAMQ,SAACC,GAAD,QAAS5B,CAAAA,OAAO,CAACC,GAAR,CAAY2B,GAAG,CAAC7B,IAAhB,CAAT,EANR,EAOAR,UAAU,oBAAKQ,IAAL,EAAV,CACD,CAdS,CAcP,GAdO,CAAV,CAeD,CAhBD,CADW,EADL,CAhBZ,EAHF,CADF,CA2CD","sourcesContent":["import {\n  AddBox,\n  Check,\n  ChevronLeft,\n  ChevronRight,\n  Clear,\n  DeleteOutline,\n  Edit,\n  FilterList,\n  FirstPage,\n  LastPage,\n  Remove,\n  SaveAlt,\n  Search,\n  ViewColumn,\n  ArrowUpward,\n} from \"@material-ui/icons\";\nimport { getCookie } from \"cookie/cookie\"\nimport MaterialTable from 'material-table'\nimport React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { personProps } from './tyscript'\nimport { forwardRef } from 'react';\n\n\nexport default function ReportTable() {\n  const tableIcons = {\n    Add: forwardRef<SVGSVGElement>((props, ref) => (\n      <AddBox {...props} ref={ref} />\n    )),\n    Check: forwardRef<SVGSVGElement>((props, ref) => (\n      <Check {...props} ref={ref} />\n    )),\n    Clear: forwardRef<SVGSVGElement>((props, ref) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Delete: forwardRef<SVGSVGElement>((props, ref) => (\n      <DeleteOutline {...props} ref={ref} />\n    )),\n    DetailPanel: forwardRef<SVGSVGElement>((props, ref) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    Edit: forwardRef<SVGSVGElement>((props, ref) => (\n      <Edit {...props} ref={ref} />\n    )),\n    Export: forwardRef<SVGSVGElement>((props, ref) => (\n      <SaveAlt {...props} ref={ref} />\n    )),\n    Filter: forwardRef<SVGSVGElement>((props, ref) => (\n      <FilterList {...props} ref={ref} />\n    )),\n    FirstPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <FirstPage {...props} ref={ref} />\n    )),\n    LastPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <LastPage {...props} ref={ref} />\n    )),\n    NextPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    PreviousPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <ChevronLeft {...props} ref={ref} />\n    )),\n    ResetSearch: forwardRef<SVGSVGElement>((props, ref) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Search: forwardRef<SVGSVGElement>((props, ref) => (\n      <Search {...props} ref={ref} />\n    )),\n    SortArrow: forwardRef<SVGSVGElement>((props, ref) => (\n      <ArrowUpward {...props} ref={ref} />\n    )),\n    ThirdStateCheck: forwardRef<SVGSVGElement>((props, ref) => (\n      <Remove {...props} ref={ref} />\n    )),\n    ViewColumn: forwardRef<SVGSVGElement>((props, ref) => (\n      <ViewColumn {...props} ref={ref} />\n    )),\n  }\n\n  const [entries, setEntries] = useState<personProps[]>([])\n  const token = getCookie('token');\n  const platformid = getCookie('platformid');\n  const headers = {\n    Authorization: `Bearer ${token}`,\n  }\n\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const response = await axios.get(`/Platforms/${platformid}`)\n        setEntries([response.data])\n      } catch (err) {\n        console.log(err)\n        setEntries([])\n      }\n\n    }\n    fetch()\n    // eslint-disable-next-line\n  }, [])\n\n\n  return (\n    <>\n\n\n      <MaterialTable\n        icons={tableIcons}\n        title=\"ข้อมูลส่วนบุคคล\"\n        options={{\n          pageSize: 20,\n          pageSizeOptions: [20, 50, 100]\n        }}\n        columns={[\n          { title: \"เลขประจำตัวประชาชน\", field: \"identNo\", type: \"string\" },\n          { title: \"คำนำหน้าชื่อ\", field: \"title\", type: \"string\" },\n          { title: \"ชื่อ\", field: \"firstName\", type: \"string\" },\n          { title: \"นามสกุล\", field: \"lastName\", type: \"string\" },\n          { title: \"เบอร์โทร\", field: \"phone\", type: \"string\" },\n          { title: \"อีเมลล์\", field: \"email\", type: \"string\" },\n        ]}\n        data={entries}\n        editable={{\n          onRowUpdate: (newData: personProps, oldData: any) =>\n            new Promise((resolve) => {\n              setTimeout(() => {\n                //@ts-ignore\n                resolve()\n                const data = [...entries]\n                data[oldData.tableData.id] = newData\n\n                axios\n                  .put(\n                    `/Platforms/${platformid}`,\n                    { id: data[oldData.tableData.id].id, officialName: data[oldData.tableData.id].officialName, abbreviation: data[oldData.tableData.id].abbreviation, thumbnail: data[oldData.tableData.id].thumbnail, link: data[oldData.tableData.id].link, curriculum: data[oldData.tableData.id].curriculum, course: data[oldData.tableData.id].course, identNo: newData.identNo, title: newData.title, firstName: newData.firstName, lastName: newData.lastName, phone: newData.phone, email: newData.email },\n                    { headers }\n                  )\n                  .then((res) => console.log(res.data))\n                setEntries([...data])\n              }, 600)\n            }),\n        }}\n      />\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}