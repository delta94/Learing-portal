{"ast":null,"code":"var _jsxFileName = \"/Users/ninew/Documents/GitHub/Learing-portal/src/modules/adminPortal/components/TableSubCurriculum/index.tsx\";\nimport React from \"react\";\nimport MaterialTable from \"material-table\";\nimport { forwardRef } from \"react\";\nimport { CssBaseline, Grid, Button } from \"@material-ui/core\";\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\nimport DialogAdd from \"./DialogAdd\";\nimport { getCookie } from 'cookie/cookie';\nimport axios from \"axios\";\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport SeacrchCourse from \"./SearhCurriculum\";\nimport DialogEdit from \"./DialogEdit\";\nimport { useSelector } from 'react-redux';\nimport Snackbar from \"shared/SnackBar/SnackBar\";\nexport default function MaterialTableDemo(props) {\n  const tableIcons = {\n    Add: forwardRef((props, ref) => /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }))),\n    Check: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }))),\n    Clear: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }))),\n    Delete: forwardRef((props, ref) => /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }))),\n    DetailPanel: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }))),\n    Edit: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }))),\n    Export: forwardRef((props, ref) => /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }))),\n    Filter: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }))),\n    FirstPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }))),\n    LastPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }))),\n    NextPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }))),\n    PreviousPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }))),\n    ResetSearch: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }))),\n    Search: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }))),\n    SortArrow: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ArrowDownward, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }))),\n    ThirdStateCheck: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }))),\n    ViewColumn: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    })))\n  };\n  const {\n    useState\n  } = React;\n  const [open, setOpen] = useState(false);\n  const [openEdit, setOpenEdit] = useState(false);\n  const [editData, setEditData] = useState([]);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const [value, setValue] = useState();\n  const [entries, setEntries] = useState([]);\n  const token = getCookie('token');\n  const headers = {\n    Authorization: `Bearer ${token}`\n  };\n  const platformid = getCookie('platformid');\n\n  const onSubmit = async () => {\n    if (value !== undefined) {\n      const response = await axios.get(`/Platforms/${platformid}/Curriculums/${value}/Courses`);\n      setEntries(response.data);\n    }\n  };\n\n  const {\n    message,\n    severity\n  } = useSelector(state => state.admin);\n  const [number, setNumber] = useState(0);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }), message !== null && /*#__PURE__*/React.createElement(Snackbar, {\n    message: message,\n    open: message !== null ? true : false,\n    severity: severity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"flex-start\",\n    alignItems: \"center\",\n    style: {\n      margin: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SeacrchCourse, {\n    setValue: setValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2B\\u0E25\\u0E31\\u0E01\\u0E2A\\u0E39\\u0E15\\u0E23\")), /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"\\u0E23\\u0E32\\u0E22\\u0E27\\u0E34\\u0E0A\\u0E32\\u0E43\\u0E19\\u0E2B\\u0E25\\u0E31\\u0E01\\u0E2A\\u0E39\\u0E15\\u0E23\",\n    columns: [{\n      title: 'ลำดับ',\n      render: rowData => rowData.tableData.id + 1\n    }, {\n      title: \"รหัสวิชา\",\n      field: \"code\",\n      type: \"numeric\"\n    }, {\n      title: \"ชื่อวิชา\",\n      field: \"name\"\n    }],\n    data: entries,\n    icons: tableIcons,\n    options: {\n      pageSize: 20,\n      pageSizeOptions: [20, 50, 100]\n    },\n    actions: [{\n      icon: () => /*#__PURE__*/React.createElement(RefreshIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }\n      }),\n      tooltip: \"รีเฟลส\",\n      isFreeAction: true,\n      onClick: onSubmit\n    }, {\n      icon: () => /*#__PURE__*/React.createElement(AddBox, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }),\n      tooltip: \"เพิ่ม\",\n      isFreeAction: true,\n      onClick: handleClickOpen\n    }, {\n      icon: () => /*#__PURE__*/React.createElement(Edit, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }\n      }),\n      tooltip: \"แก้ไข\",\n      onClick: (event, rowData) => {\n        setOpenEdit(true);\n        const save = rowData;\n        setNumber(rowData.tableData.id + 1);\n        setEditData(save);\n      }\n    }],\n    editable: {\n      onRowDelete: oldData => new Promise(resolve => {\n        setTimeout(() => {\n          //@ts-ignore\n          resolve();\n          const data = [...entries];\n          data.splice(data.indexOf(oldData), 1);\n          axios.delete(`/Platforms/${platformid}/Curriculums/${value}/Courses/${oldData.id}`, {\n            headers\n          }).then(res => console.log(res.data));\n          setEntries(data);\n        }, 600);\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DialogEdit, {\n    open: openEdit,\n    setOpen: setOpenEdit,\n    data: editData,\n    valueCurriculun: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DialogAdd, {\n    open: open,\n    setOpen: setOpen,\n    valueCurriculun: value,\n    no: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/adminPortal/components/TableSubCurriculum/index.tsx"],"names":["React","MaterialTable","forwardRef","CssBaseline","Grid","Button","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","DialogAdd","getCookie","axios","RefreshIcon","SeacrchCourse","DialogEdit","useSelector","Snackbar","MaterialTableDemo","props","tableIcons","Add","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","useState","open","setOpen","openEdit","setOpenEdit","editData","setEditData","handleClickOpen","value","setValue","entries","setEntries","token","headers","Authorization","platformid","onSubmit","undefined","response","get","data","message","severity","state","admin","number","setNumber","margin","title","render","rowData","tableData","id","field","type","pageSize","pageSizeOptions","icon","tooltip","isFreeAction","onClick","event","save","onRowDelete","oldData","Promise","resolve","setTimeout","splice","indexOf","delete","then","res","console","log"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport MaterialTable from \"material-table\";\nimport { forwardRef } from \"react\";\nimport { CssBaseline, Grid, Button } from \"@material-ui/core\";\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\nimport DialogAdd from \"./DialogAdd\";\nimport { getCookie } from 'cookie/cookie'\nimport axios from \"axios\"\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport SeacrchCourse from \"./SearhCurriculum\";\nimport DialogEdit from \"./DialogEdit\";\nimport { useSelector } from 'react-redux'\nimport Snackbar from \"shared/SnackBar/SnackBar\"\n\n\nexport default function MaterialTableDemo(props: any) {\n  const tableIcons = {\n    Add: forwardRef<SVGSVGElement>((props, ref) => (\n      <AddBox {...props} ref={ref} />\n    )),\n    Check: forwardRef<SVGSVGElement>((props, ref) => (\n      <Check {...props} ref={ref} />\n    )),\n    Clear: forwardRef<SVGSVGElement>((props, ref) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Delete: forwardRef<SVGSVGElement>((props, ref) => (\n      <DeleteOutline {...props} ref={ref} />\n    )),\n    DetailPanel: forwardRef<SVGSVGElement>((props, ref) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    Edit: forwardRef<SVGSVGElement>((props, ref) => (\n      <Edit {...props} ref={ref} />\n    )),\n    Export: forwardRef<SVGSVGElement>((props, ref) => (\n      <SaveAlt {...props} ref={ref} />\n    )),\n    Filter: forwardRef<SVGSVGElement>((props, ref) => (\n      <FilterList {...props} ref={ref} />\n    )),\n    FirstPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <FirstPage {...props} ref={ref} />\n    )),\n    LastPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <LastPage {...props} ref={ref} />\n    )),\n    NextPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    PreviousPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <ChevronLeft {...props} ref={ref} />\n    )),\n    ResetSearch: forwardRef<SVGSVGElement>((props, ref) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Search: forwardRef<SVGSVGElement>((props, ref) => (\n      <Search {...props} ref={ref} />\n    )),\n    SortArrow: forwardRef<SVGSVGElement>((props, ref) => (\n      <ArrowDownward {...props} ref={ref} />\n    )),\n    ThirdStateCheck: forwardRef<SVGSVGElement>((props, ref) => (\n      <Remove {...props} ref={ref} />\n    )),\n    ViewColumn: forwardRef<SVGSVGElement>((props, ref) => (\n      <ViewColumn {...props} ref={ref} />\n    )),\n  };\n  const { useState } = React;\n\n\n  const [open, setOpen] = useState(false);\n  const [openEdit, setOpenEdit] = useState(false);\n  const [editData, setEditData] = useState<any>([])\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const [value, setValue] = useState()\n  const [entries, setEntries] = useState<any>([])\n  const token = getCookie('token');\n\n\n  const headers = {\n    Authorization: `Bearer ${token}`,\n  }\n  const platformid = getCookie('platformid');\n  const onSubmit = async () => {\n    if (value !== undefined) {\n      const response = await axios.get(`/Platforms/${platformid}/Curriculums/${value}/Courses`)\n      setEntries(response.data)\n\n    }\n\n\n  }\n\n  const { message, severity } = useSelector((state: any) => state.admin);\n  const [number, setNumber] = useState(0)\n\n  return (\n    <div>\n      <CssBaseline />\n      {\n        message !== null && <Snackbar\n          message={message\n          }\n          open={message !== null ? true : false}\n          severity={severity}\n        />\n      }\n      <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" style={{ margin: 20 }} >\n        <SeacrchCourse setValue={setValue} />\n        <Button onClick={onSubmit} >ค้นหาหลักสูตร</Button>\n      </Grid>\n\n      <MaterialTable\n        title=\"รายวิชาในหลักสูตร\"\n        columns={[\n          {\n\n            title: 'ลำดับ',\n            render: rowData => rowData.tableData.id + 1\n          },\n          { title: \"รหัสวิชา\", field: \"code\", type: \"numeric\" },\n          { title: \"ชื่อวิชา\", field: \"name\" },\n        ]}\n        data={entries}\n        icons={tableIcons}\n        options={{\n          pageSize: 20,\n          pageSizeOptions: [20, 50, 100]\n        }}\n        actions={[\n          {\n            icon: () => <RefreshIcon />,\n            tooltip: \"รีเฟลส\",\n            isFreeAction: true,\n            onClick: onSubmit,\n          },\n          {\n            icon: () => <AddBox />,\n            tooltip: \"เพิ่ม\",\n            isFreeAction: true,\n            onClick: handleClickOpen,\n          },\n          {\n            icon: () => <Edit />,\n            tooltip: \"แก้ไข\",\n            onClick: (event, rowData) => {\n              setOpenEdit(true)\n              const save = rowData\n              setNumber(rowData.tableData.id + 1)\n\n              setEditData(save)\n\n\n\n            },\n          }\n        ]}\n        editable={{\n          onRowDelete: (oldData: any) =>\n            new Promise((resolve) => {\n              setTimeout(() => {\n                //@ts-ignore\n                resolve()\n                const data = [...entries]\n                data.splice(data.indexOf(oldData), 1)\n                axios\n                  .delete(`/Platforms/${platformid}/Curriculums/${value}/Courses/${oldData.id}`, { headers })\n                  .then((res) => console.log(res.data))\n                setEntries(data)\n              }, 600)\n            }),\n\n        }}\n      />\n      <DialogEdit open={openEdit} setOpen={setOpenEdit} data={editData} valueCurriculun={value} />\n      <DialogAdd open={open} setOpen={setOpen} valueCurriculun={value} no={number} />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}