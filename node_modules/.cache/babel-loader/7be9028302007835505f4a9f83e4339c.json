{"ast":null,"code":"import _toConsumableArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,Suspense,lazy,useState}from\"react\";import{Grid,Divider,Container,CircularProgress,Button}from\"@material-ui/core\";import queryString from\"query-string\";import{useDispatch,useSelector}from'react-redux';import*as actions from\"../../actions\";import{useLocation}from\"react-router-dom\";import Header from\"../../share/Header\";import SelectCategory from\"../../share/SelectCategory\";import{makeStyles}from\"@material-ui/core/styles\";var CourseDetail=lazy(function(){return import('./CurriculumDetail');});var useStyles=makeStyles(function(theme){return{content:{paddingRight:\"8vw\",paddingLeft:\"8vw\"},divider:{marginBottom:20},circular:{marginTop:20},button:{background:theme.palette.primary.main,borderRadius:40,padding:'15px 30px 15px 30px',margin:10}};});export default function SingleLineGridList(props){var _useLocation=useLocation(),search=_useLocation.search;var _queryString$parse=queryString.parse(search),category=_queryString$parse.category;var dispatch=useDispatch();var classes=useStyles();var _useSelector=useSelector(function(state){return state.course;}),curriculums=_useSelector.curriculums,isLoadingCurriculums=_useSelector.isLoadingCurriculums;var postsPerPage=8;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),postsToShow=_useState2[0],setPostsToShow=_useState2[1];var _useState3=useState(8),_useState4=_slicedToArray(_useState3,2),next=_useState4[0],setNext=_useState4[1];var loopWithSlice=function loopWithSlice(start,end){var slicedPosts=curriculums.slice(start,end);setPostsToShow([].concat(_toConsumableArray(postsToShow),_toConsumableArray(slicedPosts)));};useEffect(function(){loopWithSlice(0,postsPerPage);// eslint-disable-next-line\n},[isLoadingCurriculums]);var handleShowMorePosts=function handleShowMorePosts(){loopWithSlice(next,next+postsPerPage);setNext(next+postsPerPage);};useEffect(function(){setPostsToShow([]);var action=actions.loadCurriculums(\"all\");dispatch(action);// eslint-disable-next-line\n},[search]);var renderLoader=function renderLoader(){return/*#__PURE__*/React.createElement(\"div\",null);};return/*#__PURE__*/React.createElement(Suspense,{fallback:renderLoader()},/*#__PURE__*/React.createElement(Header,{text:\"หลักสูตร\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{container:true,className:classes.content,direction:\"row\",alignItems:\"center\",justify:\"space-between\"},/*#__PURE__*/React.createElement(\"h2\",null,category),/*#__PURE__*/React.createElement(SelectCategory,null))),/*#__PURE__*/React.createElement(Divider,{style:{marginBottom:20}}),/*#__PURE__*/React.createElement(Container,{maxWidth:\"lg\"},/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",alignItems:\"center\",justify:isLoadingCurriculums?\"center\":\"flex-start\",spacing:3},isLoadingCurriculums&&/*#__PURE__*/React.createElement(CircularProgress,{color:\"secondary\",className:classes.circular}),postsToShow.map(function(item,index){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6,md:4,lg:3,xl:3,key:index},/*#__PURE__*/React.createElement(CourseDetail,{key:index,id:item.id,assessment:item.assessment,targetGroup:item.targetGroup,learningTopic:item.learningTopic,learningObjective:item.learningObjective,courseCategoryId:item.courseCategoryId,thumbnail:item.thumbnail,viewCount:item.viewCount,point:item.satisfactionSum/item.satisfactionCount,satisfactionCount:item.satisfactionCount,link:item.link,code:item.code,name:item.name,platformId:item.platformId}));})),!isLoadingCurriculums&&next<curriculums.length&&/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",alignItems:\"center\",justify:\"center\",spacing:3},/*#__PURE__*/React.createElement(Button,{onClick:handleShowMorePosts,color:\"secondary\",className:classes.button},\"\\u0E14\\u0E39\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\")))));}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/coursePortal/components/Curriculum/GroupCurriculum.tsx"],"names":["React","useEffect","Suspense","lazy","useState","Grid","Divider","Container","CircularProgress","Button","queryString","useDispatch","useSelector","actions","useLocation","Header","SelectCategory","makeStyles","CourseDetail","useStyles","theme","content","paddingRight","paddingLeft","divider","marginBottom","circular","marginTop","button","background","palette","primary","main","borderRadius","padding","margin","SingleLineGridList","props","search","parse","category","dispatch","classes","state","course","curriculums","isLoadingCurriculums","postsPerPage","postsToShow","setPostsToShow","next","setNext","loopWithSlice","start","end","slicedPosts","slice","handleShowMorePosts","action","loadCurriculums","renderLoader","map","item","index","id","assessment","targetGroup","learningTopic","learningObjective","courseCategoryId","thumbnail","viewCount","satisfactionSum","satisfactionCount","link","code","name","platformId","length"],"mappings":"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","sourcesContent":["import React, { useEffect, Suspense, lazy, useState } from \"react\";\nimport { Grid, Divider, Container, CircularProgress, Button } from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as actions from \"../../actions\"\nimport { useLocation } from \"react-router-dom\";\nimport Header from \"../../share/Header\"\nimport SelectCategory from \"../../share/SelectCategory\"\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n\nconst CourseDetail = lazy(() => import('./CurriculumDetail'));\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    paddingRight: \"8vw\",\n    paddingLeft: \"8vw\",\n  },\n  divider: {\n    marginBottom: 20\n  }, circular: {\n    marginTop: 20\n  }, button: {\n    background: theme.palette.primary.main,\n    borderRadius: 40,\n    padding: '15px 30px 15px 30px',\n    margin: 10\n  }\n\n}));\n\nexport default function SingleLineGridList(props: any) {\n  const { search } = useLocation();\n  const { category } = queryString.parse(search);\n  const dispatch = useDispatch();\n  const classes = useStyles()\n  const { curriculums, isLoadingCurriculums } = useSelector((state: any) => state.course);\n\n  const postsPerPage = 8;\n  const [postsToShow, setPostsToShow] = useState<any>([]);\n  const [next, setNext] = useState(8);\n  const loopWithSlice = (start: any, end: any) => {\n    const slicedPosts = curriculums.slice(start, end);\n    setPostsToShow([...postsToShow, ...slicedPosts]);\n  };\n\n  useEffect(() => {\n    loopWithSlice(0, postsPerPage);\n    // eslint-disable-next-line\n  }, [isLoadingCurriculums]);\n\n  const handleShowMorePosts = () => {\n    loopWithSlice(next, next + postsPerPage);\n    setNext(next + postsPerPage);\n  };\n  useEffect(() => {\n    setPostsToShow([])\n    const action = actions.loadCurriculums(\"all\")\n    dispatch(action)\n    // eslint-disable-next-line\n  }, [search])\n\n\n  const renderLoader = () =>\n    <div></div>\n\n\n  return (\n    < Suspense fallback={renderLoader()} >\n      <Header text={\"หลักสูตร\"} />\n      <div>\n        <Grid container direction=\"row\" alignItems=\"center\">\n\n          <Grid container className={classes.content} direction=\"row\" alignItems=\"center\" justify={\"space-between\"} >\n\n            <h2>{category}</h2>\n            <SelectCategory />\n\n          </Grid>\n        </Grid>\n        <Divider style={{ marginBottom: 20 }} />\n\n        <Container maxWidth=\"lg\">\n          <Grid\n            container\n            direction=\"row\"\n            alignItems=\"center\"\n            justify={isLoadingCurriculums ? \"center\" : \"flex-start\"}\n            spacing={3}\n          >\n            {isLoadingCurriculums && <CircularProgress color=\"secondary\" className={classes.circular} />}\n\n            {\n              postsToShow.map((item: any, index: number) => (\n                <Grid item xs={12} sm={6} md={4} lg={3} xl={3} key={index}>\n                  <CourseDetail\n                    key={index}\n                    id={item.id}\n                    assessment={item.assessment}\n                    targetGroup={item.targetGroup}\n                    learningTopic={item.learningTopic}\n                    learningObjective={item.learningObjective}\n                    courseCategoryId={item.courseCategoryId}\n                    thumbnail={item.thumbnail}\n                    viewCount={item.viewCount}\n                    point={(item.satisfactionSum) / item.satisfactionCount}\n                    satisfactionCount={item.satisfactionCount}\n                    link={item.link}\n                    code={item.code}\n                    name={item.name}\n                    platformId={item.platformId}\n                  />\n                </Grid>\n              ))}\n          </Grid>\n          {!isLoadingCurriculums && next < curriculums.length &&\n            <Grid\n              container\n              direction=\"row\"\n              alignItems=\"center\"\n              justify={\"center\"}\n              spacing={3}\n            >\n\n              <Button onClick={handleShowMorePosts} color=\"secondary\" className={classes.button}>ดูเพิ่มเติม</Button>\n            </Grid>}\n        </Container>\n      </div>\n    </ Suspense>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}