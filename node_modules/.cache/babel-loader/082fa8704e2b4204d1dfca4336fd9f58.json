{"ast":null,"code":"import _slicedToArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import Snackbar from\"shared/SnackBar/SnackBar\";import{Container,Button}from\"@material-ui/core\";import{makeStyles}from\"@material-ui/core/styles\";import Account from\"./Account\";import Information from\"./Information\";import TypeSelect from\"./TypeSelect\";import{useForm}from\"react-hook-form\";import*as yup from\"yup\";import*as actions from\"../actions\";import{useDispatch,useSelector}from\"react-redux\";import{info}from\"utils/formatInfomation\";import ShowInfoDialog from\"./ShowInfo/ShowInfoDialog\";var useStyles=makeStyles(function(theme){return{paper:{background:\"white\",borderRadius:\" 10px\",padding:\"10px\",marginTop:theme.spacing(4)},submit:{marginTop:\"10px\",borderRadius:20,padding:10,background:\"#ff533d\",color:\"#fdfdfd\",\"&:hover\":{background:\"#ff533d\",color:\"#fdfdfd\"}}};});export default function SignIn(){var classes=useStyles();// eslint-disable-next-line\nvar _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),type=_React$useState2[0],setType=_React$useState2[1];// eslint-disable-next-line\nvar _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),mistry=_React$useState4[0],setMistry=_React$useState4[1];var accountForm=useForm({mode:\"onChange\",validationSchema:yup.object().shape({id:yup.string().required(\"กรุณากรอกเลขบัตรประจำตัวประชาชน\").matches(/^[0-9]{13}$/,\"กรุณากรอกเป็นตัวเลข 13 หลัก\").test(\"ตรวจสอบรหัสบัตรประชาชน\",\"กรอกเลขบัตรประชาชนผิด กรุณากรอกใหม่\",function(item){var i,sum;for(i=0,sum=0;i<12;i++){sum+=parseFloat(item.charAt(i))*(13-i);}if((11-sum%11)%10!==parseFloat(item.charAt(12))){return false;}return true;}),password:yup.string().required(\"กรุณากรอกรหัสผ่าน ( 1 )\").min(8,\"รหัสต้องมีอย่างน้อย 8 ตัวอักษร\"),comfirmpassword:yup.string().oneOf([yup.ref(\"password\")],\"กรุณากรอกรหัสให้เหมือนกัน\").required(\"กรุณากรอกรหัสผ่าน ( 2 )\"),title:yup.string().required(\"กรุณากรอกคำนำหน้า\"),name:yup.string().required(\"กรุณากรอกชื่อ\"),lastname:yup.string().required(\"กรุณากรอกนามสกุล\"),birthyear:yup.string().required(),gender:yup.string().required(\"กรุณาเลือกเพศ\"),educationid:yup.string().required(\"กรุณาเลือกระดับการศึกษา\"),email:yup.string().required(\"กรุณากรอกอีเมล\").email(\"กรุณากรอกอีเมลให้ถูกต้อง\"),usertypeid:yup.string().required(\"กรุณาเลือกประเภท\"),jobtypeId:yup.string().when(\"usertypeid\",{is:function is(usertypeid){setType(usertypeid);switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกประเภทตำแหน่ง\"),otherwise:yup.string().nullable()}),jobTitle:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return true;case\"4\":return true;}},then:yup.string().required(\"กรุณากรอกตำแหน่ง\"),otherwise:yup.string().nullable()}),jobLevelid:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return false;case\"3\":return false;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกระดับ\"),otherwise:yup.string().nullable()}),jobLevel:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return false;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกประเภท\"),otherwise:yup.string().nullable()}),jobStartDate:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return true;}},then:yup.string().required(\"กรุณาเลือกปี\"),otherwise:yup.string().nullable()}),MinistryId:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกกระทรวงที่สังกัด\"),otherwise:yup.string().nullable()}),DepartmentId:yup.string().when([\"usertypeid\",\"MinistryId\"],{is:function is(usertypeid,MinistryId){setMistry(MinistryId);switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกกรมที่สังกัด\"),otherwise:yup.string().nullable()}),Division:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"4\":return false;case\"5\":return false;}},then:yup.string().required(\"กรุณากรอกชื่อส่วนราชการที่สังกัด\"),otherwise:yup.string().nullable()}),OccupationId:yup.string().when([\"usertypeid\",\"MinistryId\"],{is:function is(usertypeid){switch(usertypeid){case\"1\":return false;case\"2\":return false;case\"3\":return false;case\"5\":return true;case\"4\":return false;}},then:yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),otherwise:yup.string().nullable()}),workPlace:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return false;case\"2\":return false;case\"3\":return false;case\"5\":return true;case\"4\":return false;}},then:yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),otherwise:yup.string().nullable()}),stateEnterprisid:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return false;case\"2\":return false;case\"3\":return false;case\"5\":return false;case\"4\":return true;}},then:yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),otherwise:yup.string().nullable()})})});var dispatch=useDispatch();var onSubmitData=function onSubmitData(data){var preinfo=info(data);var action=actions.loadSignUp(preinfo);dispatch(action);};var _useSelector=useSelector(function(state){return state.infomation;}),message=_useSelector.message,severity=_useSelector.severity;return/*#__PURE__*/React.createElement(React.Fragment,null,message!==null&&/*#__PURE__*/React.createElement(Snackbar,{message:message,open:message!==null?true:false,severity:severity}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:accountForm.handleSubmit(onSubmitData)},/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\",className:classes.paper},/*#__PURE__*/React.createElement(Account,{formProps:accountForm}),/*#__PURE__*/React.createElement(Information,{formProps:accountForm}),/*#__PURE__*/React.createElement(TypeSelect,{formProps:accountForm}),/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\",className:classes.paper},/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,className:classes.submit},\"\\u0E2A\\u0E48\\u0E07\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"),/*#__PURE__*/React.createElement(ShowInfoDialog,null)))));}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/signupPortal/components/index.tsx"],"names":["React","Snackbar","Container","Button","makeStyles","Account","Information","TypeSelect","useForm","yup","actions","useDispatch","useSelector","info","ShowInfoDialog","useStyles","theme","paper","background","borderRadius","padding","marginTop","spacing","submit","color","SignIn","classes","useState","type","setType","mistry","setMistry","accountForm","mode","validationSchema","object","shape","id","string","required","matches","test","item","i","sum","parseFloat","charAt","password","min","comfirmpassword","oneOf","ref","title","name","lastname","birthyear","gender","educationid","email","usertypeid","jobtypeId","when","is","then","otherwise","nullable","jobTitle","jobLevelid","jobLevel","jobStartDate","MinistryId","DepartmentId","Division","OccupationId","workPlace","stateEnterprisid","dispatch","onSubmitData","data","preinfo","action","loadSignUp","state","infomation","message","severity","handleSubmit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Snackbar from \"shared/SnackBar/SnackBar\"\nimport { Container, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Account from \"./Account\";\nimport Information from \"./Information\";\nimport TypeSelect from \"./TypeSelect\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport * as actions from \"../actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { info } from \"utils/formatInfomation\"\nimport { accountFormProps } from \"../typescript\"\nimport ShowInfoDialog from \"./ShowInfo/ShowInfoDialog\"\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    background: \"white\",\n    borderRadius: \" 10px\",\n    padding: \"10px\",\n    marginTop: theme.spacing(4),\n  },\n  submit: {\n    marginTop: \"10px\",\n    borderRadius: 20,\n    padding: 10,\n    background: \"#ff533d\",\n    color: \"#fdfdfd\",\n    \"&:hover\": {\n      background: \"#ff533d\",\n      color: \"#fdfdfd\",\n    },\n  },\n}));\n\nexport default function SignIn() {\n  const classes = useStyles();\n\n  // eslint-disable-next-line\n  const [type, setType] = React.useState<string>(\"\");\n  // eslint-disable-next-line\n  const [mistry, setMistry] = React.useState<string>(\"\");\n\n\n  const accountForm = useForm<accountFormProps>({\n    mode: \"onChange\",\n    validationSchema: yup.object().shape({\n      id: yup\n        .string()\n        .required(\"กรุณากรอกเลขบัตรประจำตัวประชาชน\")\n        .matches(/^[0-9]{13}$/, \"กรุณากรอกเป็นตัวเลข 13 หลัก\")\n        .test(\n          \"ตรวจสอบรหัสบัตรประชาชน\",\n          \"กรอกเลขบัตรประชาชนผิด กรุณากรอกใหม่\",\n\n          function (item: any) {\n            var i, sum;\n            for (i = 0, sum = 0; i < 12; i++)\n              sum += parseFloat(item.charAt(i)) * (13 - i);\n            if ((11 - (sum % 11)) % 10 !== parseFloat(item.charAt(12))) {\n              return false;\n            }\n            return true;\n          }\n        ),\n      password: yup\n        .string()\n        .required(\"กรุณากรอกรหัสผ่าน ( 1 )\")\n        .min(8, \"รหัสต้องมีอย่างน้อย 8 ตัวอักษร\"),\n      comfirmpassword: yup\n        .string()\n        .oneOf([yup.ref(\"password\")], \"กรุณากรอกรหัสให้เหมือนกัน\")\n        .required(\"กรุณากรอกรหัสผ่าน ( 2 )\"),\n      title: yup.string().required(\"กรุณากรอกคำนำหน้า\"),\n      name: yup.string().required(\"กรุณากรอกชื่อ\"),\n      lastname: yup.string().required(\"กรุณากรอกนามสกุล\"),\n      birthyear: yup.string().required(),\n      gender: yup.string().required(\"กรุณาเลือกเพศ\"),\n      educationid: yup.string().required(\"กรุณาเลือกระดับการศึกษา\"),\n      email: yup\n        .string()\n        .required(\"กรุณากรอกอีเมล\")\n        .email(\"กรุณากรอกอีเมลให้ถูกต้อง\"),\n\n      usertypeid: yup.string().required(\"กรุณาเลือกประเภท\"),\n\n      jobtypeId: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          setType(usertypeid);\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return false;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกประเภทตำแหน่ง\"),\n        otherwise: yup.string().nullable(),\n      }),\n      jobTitle: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return true;\n            case \"4\":\n              return true;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกตำแหน่ง\"),\n        otherwise: yup.string().nullable(),\n      }),\n      jobLevelid: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return false;\n            case \"3\":\n              return false;\n            case \"5\":\n              return false;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกระดับ\"),\n        otherwise: yup.string().nullable(),\n      }),\n\n      jobLevel: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return false;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return false;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกประเภท\"),\n        otherwise: yup.string().nullable(),\n      }),\n\n      jobStartDate: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return false;\n            case \"4\":\n              return true;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกปี\"),\n        otherwise: yup.string().nullable(),\n      }),\n\n      MinistryId: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return false;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกกระทรวงที่สังกัด\"),\n        otherwise: yup.string().nullable(),\n      }),\n      DepartmentId: yup\n        .string()\n        .when([\"usertypeid\", \"MinistryId\"], {\n          is: (usertypeid, MinistryId) => {\n            setMistry(MinistryId);\n            switch (usertypeid) {\n              case \"1\":\n                return true;\n              case \"2\":\n                return true;\n              case \"3\":\n                return true;\n              case \"5\":\n                return false;\n              case \"4\":\n                return false;\n            }\n          },\n          then: yup.string().required(\"กรุณาเลือกกรมที่สังกัด\"),\n          otherwise: yup.string().nullable(),\n        }),\n      Division: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"4\":\n              return false;\n            case \"5\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกชื่อส่วนราชการที่สังกัด\"),\n        otherwise: yup.string().nullable(),\n      }),\n      OccupationId: yup.string().when([\"usertypeid\", \"MinistryId\"], {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return false;\n            case \"2\":\n              return false;\n            case \"3\":\n              return false;\n            case \"5\":\n              return true;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),\n        otherwise: yup.string().nullable(),\n      }),\n      workPlace: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return false;\n            case \"2\":\n              return false;\n            case \"3\":\n              return false;\n            case \"5\":\n              return true;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),\n        otherwise: yup.string().nullable(),\n      }),\n      stateEnterprisid: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return false;\n            case \"2\":\n              return false;\n            case \"3\":\n              return false;\n            case \"5\":\n              return false;\n            case \"4\":\n              return true;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),\n        otherwise: yup.string().nullable(),\n      }),\n    }),\n  });\n\n  const dispatch = useDispatch();\n\n\n\n\n  const onSubmitData = (data: any) => {\n    const preinfo = info(data);\n    const action = actions.loadSignUp(preinfo);\n    dispatch(action);\n  };\n\n  const { message, severity } = useSelector((state: any) => state.infomation);\n\n\n  return (\n    <>\n      {message !== null && <Snackbar\n        message={message\n        }\n        open={message !== null ? true : false}\n        severity={severity}\n      />\n      }\n      <form onSubmit={accountForm.handleSubmit(onSubmitData)}>\n\n        <Container component=\"main\" maxWidth=\"xs\" className={classes.paper}>\n          <Account formProps={accountForm} />\n          <Information formProps={accountForm} />\n          <TypeSelect formProps={accountForm} />\n          <Container component=\"main\" maxWidth=\"xs\" className={classes.paper}>\n            <Button type=\"submit\" fullWidth className={classes.submit}>\n              ส่งข้อมูล\n            </Button>\n            <ShowInfoDialog />\n          </Container>\n        </Container>\n      </form>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}