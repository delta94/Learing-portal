{"ast":null,"code":"import React,{useEffect,Suspense,lazy}from\"react\";import{Grid,Divider,Container}from\"@material-ui/core\";import queryString from\"query-string\";import categoryFormat from\"utils/categoryFormat\";import{useLocation}from\"react-router-dom\";import{useDispatch,useSelector}from'react-redux';import*as actions from\"../../actions\";import{makeStyles}from\"@material-ui/core/styles\";var Header=lazy(function(){return import('../../share/Header');});var SelectCategory=lazy(function(){return import('../../share/SelectCategory');});var CourseDetail=lazy(function(){return import('./CourseDetails');});var useStyles=makeStyles(function(theme){return{content:{paddingRight:\"8vw\",paddingLeft:\"8vw\"},divider:{marginBottom:20}};});export default function GroupCourse(props){var _useLocation=useLocation(),search=_useLocation.search;var _queryString$parse=queryString.parse(search),category=_queryString$parse.category;var dispatch=useDispatch();var parsed=queryString.parse(search);var _useSelector=useSelector(function(state){return state.course;}),courseCategories=_useSelector.courseCategories,isLoadingCourseCategories=_useSelector.isLoadingCourseCategories;var classes=useStyles();var renderLoader=function renderLoader(){return/*#__PURE__*/React.createElement(\"div\",null);};useEffect(function(){var action=actions.loadCourseCategories(parsed.category===undefined?1:parsed.category);dispatch(action);// eslint-disable-next-line\n},[parsed.category]);return/*#__PURE__*/React.createElement(Suspense,{fallback:renderLoader()},/*#__PURE__*/React.createElement(Header,{text:\"รายวิชา\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{container:true,className:classes.content,direction:\"row\",alignItems:\"center\",justify:\"space-between\"},/*#__PURE__*/React.createElement(\"h2\",null,categoryFormat(category)),/*#__PURE__*/React.createElement(SelectCategory,null))),/*#__PURE__*/React.createElement(Divider,{style:{marginBottom:20}}),/*#__PURE__*/React.createElement(Container,{maxWidth:\"lg\"},/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",alignItems:\"center\",justify:isLoadingCourseCategories?\"center\":\"flex-start\",spacing:3},courseCategories.map(function(item,index){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6,md:4,lg:3,xl:3},/*#__PURE__*/React.createElement(CourseDetail,{key:index,id:item.id,learningTopic:item.learningTopic,learningObjective:item.learningObjective,courseCategoryId:item.courseCategoryId,thumbnail:item.thumbnail,viewCount:item.viewCount,assessment:item.assessment,targetGroup:item.targetGroup,point:item.satisfactionSum/item.satisfactionCount,satisfactionCount:item.satisfactionCount,link:item.link,code:item.code,name:item.name,platformId:item.platformId}));})))));}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/coursePortal/components/Course/GroupCourse.tsx"],"names":["React","useEffect","Suspense","lazy","Grid","Divider","Container","queryString","categoryFormat","useLocation","useDispatch","useSelector","actions","makeStyles","Header","SelectCategory","CourseDetail","useStyles","theme","content","paddingRight","paddingLeft","divider","marginBottom","GroupCourse","props","search","parse","category","dispatch","parsed","state","course","courseCategories","isLoadingCourseCategories","classes","renderLoader","action","loadCourseCategories","undefined","map","item","index","id","learningTopic","learningObjective","courseCategoryId","thumbnail","viewCount","assessment","targetGroup","satisfactionSum","satisfactionCount","link","code","name","platformId"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,IAArC,KAAiD,OAAjD,CACA,OAASC,IAAT,CAAeC,OAAf,CAAwBC,SAAxB,KAAyC,mBAAzC,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,sBAA3B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,eAAzB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CAIA,GAAMC,CAAAA,MAAM,CAAGX,IAAI,CAAC,iBAAM,QAAO,oBAAP,CAAN,EAAD,CAAnB,CACA,GAAMY,CAAAA,cAAc,CAAGZ,IAAI,CAAC,iBAAM,QAAO,4BAAP,CAAN,EAAD,CAA3B,CACA,GAAMa,CAAAA,YAAY,CAAGb,IAAI,CAAC,iBAAM,QAAO,iBAAP,CAAN,EAAD,CAAzB,CAEA,GAAMc,CAAAA,SAAS,CAAGJ,UAAU,CAAC,SAACK,KAAD,QAAY,CACvCC,OAAO,CAAE,CACPC,YAAY,CAAE,KADP,CAEPC,WAAW,CAAE,KAFN,CAD8B,CAKvCC,OAAO,CAAE,CACPC,YAAY,CAAE,EADP,CAL8B,CAAZ,EAAD,CAA5B,CAYA,cAAe,SAASC,CAAAA,WAAT,CAAqBC,KAArB,CAAiC,kBAC3BhB,WAAW,EADgB,CACtCiB,MADsC,cACtCA,MADsC,wBAEzBnB,WAAW,CAACoB,KAAZ,CAAkBD,MAAlB,CAFyB,CAEtCE,QAFsC,oBAEtCA,QAFsC,CAG9C,GAAMC,CAAAA,QAAQ,CAAGnB,WAAW,EAA5B,CACA,GAAMoB,CAAAA,MAAM,CAAGvB,WAAW,CAACoB,KAAZ,CAAkBD,MAAlB,CAAf,CAJ8C,iBAKUf,WAAW,CAAC,SAACoB,KAAD,QAAgBA,CAAAA,KAAK,CAACC,MAAtB,EAAD,CALrB,CAKtCC,gBALsC,cAKtCA,gBALsC,CAKpBC,yBALoB,cAKpBA,yBALoB,CAM9C,GAAMC,CAAAA,OAAO,CAAGlB,SAAS,EAAzB,CAGA,GAAMmB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,sBACnB,+BADmB,EAArB,CAGAnC,SAAS,CAAC,UAAM,CACd,GAAMoC,CAAAA,MAAM,CAAGzB,OAAO,CAAC0B,oBAAR,CAA6BR,MAAM,CAACF,QAAP,GAAoBW,SAApB,CAAgC,CAAhC,CAAoCT,MAAM,CAACF,QAAxE,CAAf,CACAC,QAAQ,CAACQ,MAAD,CAAR,CACA;AACD,CAJQ,CAIN,CAACP,MAAM,CAACF,QAAR,CAJM,CAAT,CAMA,mBACE,oBAAC,QAAD,EAAU,QAAQ,CAAEQ,YAAY,EAAhC,eACE,oBAAC,MAAD,EAAQ,IAAI,CAAE,SAAd,EADF,cAEE,4CACE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAC,KAA1B,CAAgC,UAAU,CAAC,QAA3C,eAEE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAED,OAAO,CAAChB,OAAnC,CAA4C,SAAS,CAAC,KAAtD,CAA4D,UAAU,CAAC,QAAvE,CAAgF,OAAO,CAAE,eAAzF,eAEE,8BAAKX,cAAc,CAACoB,QAAD,CAAnB,CAFF,cAGE,oBAAC,cAAD,MAHF,CAFF,CADF,cAUE,oBAAC,OAAD,EAAS,KAAK,CAAE,CAAEL,YAAY,CAAE,EAAhB,CAAhB,EAVF,cAYE,oBAAC,SAAD,EAAW,QAAQ,CAAC,IAApB,eACE,oBAAC,IAAD,EACE,SAAS,KADX,CAEE,SAAS,CAAC,KAFZ,CAGE,UAAU,CAAC,QAHb,CAIE,OAAO,CAAEW,yBAAyB,CAAG,QAAH,CAAc,YAJlD,CAKE,OAAO,CAAE,CALX,EAOGD,gBAAgB,CAACO,GAAjB,CAAqB,SAACC,IAAD,CAAYC,KAAZ,qBACpB,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,CAAvB,CAA0B,EAAE,CAAE,CAA9B,CAAiC,EAAE,CAAE,CAArC,CAAwC,EAAE,CAAE,CAA5C,eACE,oBAAC,YAAD,EACE,GAAG,CAAEA,KADP,CAEE,EAAE,CAAED,IAAI,CAACE,EAFX,CAGE,aAAa,CAAEF,IAAI,CAACG,aAHtB,CAIE,iBAAiB,CAAEH,IAAI,CAACI,iBAJ1B,CAKE,gBAAgB,CAAEJ,IAAI,CAACK,gBALzB,CAME,SAAS,CAAEL,IAAI,CAACM,SANlB,CAOE,SAAS,CAAEN,IAAI,CAACO,SAPlB,CAQE,UAAU,CAAEP,IAAI,CAACQ,UARnB,CASE,WAAW,CAAER,IAAI,CAACS,WATpB,CAUE,KAAK,CAAGT,IAAI,CAACU,eAAN,CAAyBV,IAAI,CAACW,iBAVvC,CAWE,iBAAiB,CAAEX,IAAI,CAACW,iBAX1B,CAYE,IAAI,CAAEX,IAAI,CAACY,IAZb,CAaE,IAAI,CAAEZ,IAAI,CAACa,IAbb,CAcE,IAAI,CAAEb,IAAI,CAACc,IAdb,CAeE,UAAU,CAAEd,IAAI,CAACe,UAfnB,EADF,CADoB,EAArB,CAPH,CADF,CAZF,CAFF,CADF,CAiDD","sourcesContent":["import React, { useEffect, Suspense, lazy } from \"react\";\nimport { Grid, Divider, Container } from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport categoryFormat from \"utils/categoryFormat\"\nimport { useLocation } from \"react-router-dom\";\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as actions from \"../../actions\"\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n\n\nconst Header = lazy(() => import('../../share/Header'));\nconst SelectCategory = lazy(() => import('../../share/SelectCategory'));\nconst CourseDetail = lazy(() => import('./CourseDetails'));\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    paddingRight: \"8vw\",\n    paddingLeft: \"8vw\",\n  },\n  divider: {\n    marginBottom: 20\n  },\n\n}));\n\n\nexport default function GroupCourse(props: any) {\n  const { search } = useLocation();\n  const { category } = queryString.parse(search);\n  const dispatch = useDispatch();\n  const parsed = queryString.parse(search)\n  const { courseCategories, isLoadingCourseCategories } = useSelector((state: any) => state.course);\n  const classes = useStyles()\n\n\n  const renderLoader = () =>\n    <div></div>\n\n  useEffect(() => {\n    const action = actions.loadCourseCategories(parsed.category === undefined ? 1 : parsed.category)\n    dispatch(action)\n    // eslint-disable-next-line\n  }, [parsed.category])\n\n  return (\n    <Suspense fallback={renderLoader()}>\n      <Header text={\"รายวิชา\"} />\n      <div>\n        <Grid container direction=\"row\" alignItems=\"center\">\n\n          <Grid container className={classes.content} direction=\"row\" alignItems=\"center\" justify={\"space-between\"} >\n\n            <h2>{categoryFormat(category)}</h2>\n            <SelectCategory />\n\n          </Grid>\n        </Grid>\n        <Divider style={{ marginBottom: 20 }} />\n\n        <Container maxWidth=\"lg\">\n          <Grid\n            container\n            direction=\"row\"\n            alignItems=\"center\"\n            justify={isLoadingCourseCategories ? \"center\" : \"flex-start\"}\n            spacing={3}\n          >\n            {courseCategories.map((item: any, index: number) => (\n              <Grid item xs={12} sm={6} md={4} lg={3} xl={3}>\n                <CourseDetail\n                  key={index}\n                  id={item.id}\n                  learningTopic={item.learningTopic}\n                  learningObjective={item.learningObjective}\n                  courseCategoryId={item.courseCategoryId}\n                  thumbnail={item.thumbnail}\n                  viewCount={item.viewCount}\n                  assessment={item.assessment}\n                  targetGroup={item.targetGroup}\n                  point={(item.satisfactionSum) / item.satisfactionCount}\n                  satisfactionCount={item.satisfactionCount}\n                  link={item.link}\n                  code={item.code}\n                  name={item.name}\n                  platformId={item.platformId}\n                />\n              </Grid>\n            ))}\n          </Grid>\n        </Container>\n      </div>\n    </Suspense>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}