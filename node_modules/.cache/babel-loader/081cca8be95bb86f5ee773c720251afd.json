{"ast":null,"code":"import _slicedToArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React from\"react\";import Avatar from\"@material-ui/core/Avatar\";import{makeStyles}from\"@material-ui/core/styles\";import{Container,Button,Toolbar,Grid,Divider,Box}from\"@material-ui/core\";import profilepicture from\"assets/images/user.svg\";import Information from\"./Information\";import TypeSelect from\"./TypeSelect\";import{useForm}from\"react-hook-form\";import*as yup from\"yup\";import*as actions from\"../actions\";import{useDispatch,useSelector}from\"react-redux\";import Snackbar from\"shared/SnackBar/SnackBar\";import{infoEdit}from\"utils/formatInfomation\";var useStyles=makeStyles(function(theme){var _large;return{paper:{background:\"white\",borderRadius:\"10px\",padding:\"24px\",marginTop:40},submit:{marginTop:\"10px\",borderRadius:20,padding:10,background:\"#ff533d\",color:\"#fdfdfd\",\"&:hover\":{background:\"#ff533d\",color:\"#fdfdfd\"}},large:(_large={align:\"center\"},_defineProperty(_large,theme.breakpoints.only(\"xs\"),{width:theme.spacing(18),height:theme.spacing(18)}),_defineProperty(_large,theme.breakpoints.only(\"sm\"),{width:theme.spacing(18),height:theme.spacing(18)}),_defineProperty(_large,theme.breakpoints.only(\"md\"),{width:theme.spacing(18),height:theme.spacing(18)}),_defineProperty(_large,theme.breakpoints.only(\"lg\"),{width:theme.spacing(24),height:theme.spacing(24)}),_large),form:{marginTop:10},textfiled:{marginTop:4}};});export default function Edit(props){var classes=useStyles();var data=props.data;// eslint-disable-next-line\nvar _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),types=_React$useState2[0],setType=_React$useState2[1];// eslint-disable-next-line\nvar _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),mistry=_React$useState4[0],setMistry=_React$useState4[1];var accountForm=useForm({mode:\"onChange\",defaultValues:{title:data.title,name:data.firstName,lastname:data.lastName,email:data.email,// birthyear: \"2560\",\ngender:data.gender,educationid:data.educationId,usertypeid:data.userTypeId,OccupationId:data[\"user\".concat(data.userTypeId)].occupationId,workPlace:data[\"user\".concat(data.userTypeId)].workplace,jobTitle:data[\"user\".concat(data.userTypeId)].jobTitle,MinistryId:data[\"user\".concat(data.userTypeId)].ministryId,jobLevelid:data[\"user\".concat(data.userTypeId)].jobLevelId,DepartmentId:data[\"user\".concat(data.userTypeId)].departmentId,Division:data[\"user\".concat(data.userTypeId)].division,jobtypeId:data[\"user\".concat(data.userTypeId)].jobTypeId,stateEnterprisid:data[\"user\".concat(data.userTypeId)].stateEnterpriseId,jobLevel:data[\"user\".concat(data.userTypeId)].jobLevel},validationSchema:yup.object().shape({title:yup.string().required(\"กรุณากรอกคำนำหน้า\"),name:yup.string().required(\"กรุณากรอกชื่อ\"),lastname:yup.string().required(\"กรุณากรอกนามสกุล\"),birthyear:yup.string().required(),gender:yup.string().required(\"กรุณาเลือกเพศ\"),educationid:yup.string().required(\"กรุณาเลือกระดับการศึกษา\"),email:yup.string().required(\"กรุณากรอกอีเมล\").email(\"กรุณากรอกอีเมลให้ถูกต้อง\"),usertypeid:yup.string().required(\"กรุณาเลือกประเภท\"),jobtypeId:yup.string().when(\"usertypeid\",{is:function is(usertypeid){setType(usertypeid);switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกประเภทตำแหน่ง\"),otherwise:yup.string().nullable()}),jobTitle:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return true;case\"4\":return true;}},then:yup.string().required(\"กรุณากรอกตำแหน่ง\"),otherwise:yup.string().nullable()}),jobLevelid:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return false;case\"3\":return false;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกระดับ\"),otherwise:yup.string().nullable()}),jobLevel:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return false;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกประเภท\"),otherwise:yup.string().nullable()}),jobStartDate:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return true;}},then:yup.string().required(\"กรุณาเลือกปี\"),otherwise:yup.string().nullable()}),MinistryId:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกกระทรวงที่สังกัด\"),otherwise:yup.string().nullable()}),DepartmentId:yup.string().nullable().when([\"usertypeid\",\"MinistryId\"],{is:function is(usertypeid,MinistryId){setMistry(MinistryId);switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"5\":return false;case\"4\":return false;}},then:yup.string().required(\"กรุณาเลือกกรมที่สังกัด\"),otherwise:yup.string().nullable()}),Division:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return true;case\"2\":return true;case\"3\":return true;case\"4\":return false;case\"5\":return false;}},then:yup.string().required(\"กรุณากรอกชื่อส่วนราชการที่สังกัด\"),otherwise:yup.string().nullable()}),OccupationId:yup.string().when([\"usertypeid\",\"MinistryId\"],{is:function is(usertypeid){switch(usertypeid){case\"1\":return false;case\"2\":return false;case\"3\":return false;case\"5\":return true;case\"4\":return false;}},then:yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),otherwise:yup.string().nullable()}),workPlace:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return false;case\"2\":return false;case\"3\":return false;case\"5\":return true;case\"4\":return false;}},then:yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),otherwise:yup.string().nullable()}),stateEnterprisid:yup.string().when(\"usertypeid\",{is:function is(usertypeid){switch(usertypeid){case\"1\":return false;case\"2\":return false;case\"3\":return false;case\"5\":return false;case\"4\":return true;}},then:yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),otherwise:yup.string().nullable()})})});var dispatch=useDispatch();var onSubmitData=function onSubmitData(data){var preinfo=infoEdit(data);var action=actions.loadEdit(preinfo);dispatch(action);};var _useSelector=useSelector(function(state){return state.infomation;}),message=_useSelector.message,severity=_useSelector.severity;return/*#__PURE__*/React.createElement(React.Fragment,null,message!==null&&/*#__PURE__*/React.createElement(Snackbar,{message:message,open:message!==null?true:false,severity:severity}),/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"sm\",className:classes.paper},/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Box,{fontWeight:\"fontWeightBold\",fontSize:24,textAlign:\"center\"},\" \",\"\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\"),/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Avatar,{alt:\"Remy Sharp\",src:profilepicture,className:classes.large}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Box,{fontWeight:\"fontWeightBold\",fontSize:18,textAlign:\"center\"},\" \",data.title,data.firstName,\" \",data.lastName),/*#__PURE__*/React.createElement(Toolbar,null),/*#__PURE__*/React.createElement(Divider,{variant:\"middle\"}))),/*#__PURE__*/React.createElement(Divider,{variant:\"middle\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:12},/*#__PURE__*/React.createElement(\"form\",{className:classes.form,onSubmit:accountForm.handleSubmit(onSubmitData)},/*#__PURE__*/React.createElement(Information,{formProps:accountForm}),/*#__PURE__*/React.createElement(TypeSelect,{formProps:accountForm}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,className:classes.submit},\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"))))));}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/editProfile/components/Edit.tsx"],"names":["React","Avatar","makeStyles","Container","Button","Toolbar","Grid","Divider","Box","Information","TypeSelect","useForm","yup","actions","useDispatch","useSelector","Snackbar","infoEdit","useStyles","theme","paper","background","borderRadius","padding","marginTop","submit","color","large","align","breakpoints","only","width","spacing","height","form","textfiled","Edit","props","classes","data","useState","types","setType","mistry","setMistry","accountForm","mode","defaultValues","title","name","firstName","lastname","lastName","email","gender","educationid","educationId","usertypeid","userTypeId","OccupationId","occupationId","workPlace","workplace","jobTitle","MinistryId","ministryId","jobLevelid","jobLevelId","DepartmentId","departmentId","Division","division","jobtypeId","jobTypeId","stateEnterprisid","stateEnterpriseId","jobLevel","validationSchema","object","shape","string","required","birthyear","when","is","then","otherwise","nullable","jobStartDate","dispatch","onSubmitData","preinfo","action","loadEdit","state","infomation","message","severity","profilepicture","handleSubmit"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Container,\n  Button,\n  Toolbar,\n  Grid,\n  Divider,\n  Box,\n} from \"@material-ui/core\";\nimport profilepicture from \"assets/images/user.svg\";\nimport Information from \"./Information\";\nimport TypeSelect from \"./TypeSelect\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport * as actions from \"../actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Snackbar from \"shared/SnackBar/SnackBar\"\nimport { infoEdit } from \"utils/formatInfomation\"\nimport { accountFormProps } from \"../typescript\"\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    background: \"white\",\n    borderRadius: \"10px\",\n    padding: \"24px\",\n    marginTop: 40,\n  },\n  submit: {\n    marginTop: \"10px\",\n    borderRadius: 20,\n    padding: 10,\n    background: \"#ff533d\",\n    color: \"#fdfdfd\",\n    \"&:hover\": {\n      background: \"#ff533d\",\n      color: \"#fdfdfd\",\n    },\n  },\n  large: {\n    align: \"center\",\n    [theme.breakpoints.only(\"xs\")]: {\n      width: theme.spacing(18),\n      height: theme.spacing(18),\n    },\n    [theme.breakpoints.only(\"sm\")]: {\n      width: theme.spacing(18),\n      height: theme.spacing(18),\n    },\n    [theme.breakpoints.only(\"md\")]: {\n      width: theme.spacing(18),\n      height: theme.spacing(18),\n    },\n    [theme.breakpoints.only(\"lg\")]: {\n      width: theme.spacing(24),\n      height: theme.spacing(24),\n    },\n  },\n  form: {\n    marginTop: 10,\n  },\n  textfiled: {\n    marginTop: 4,\n  },\n}));\n\nexport default function Edit(props: any) {\n  const classes = useStyles();\n  const { data } = props\n  // eslint-disable-next-line\n  const [types, setType] = React.useState<string>(\"\");\n  // eslint-disable-next-line\n  const [mistry, setMistry] = React.useState<string>(\"\");\n\n  const accountForm = useForm<accountFormProps>({\n    mode: \"onChange\",\n    defaultValues: {\n      title: data.title,\n      name: data.firstName,\n      lastname: data.lastName,\n      email: data.email,\n      // birthyear: \"2560\",\n      gender: data.gender,\n      educationid: data.educationId,\n      usertypeid: data.userTypeId,\n      OccupationId: data[`user${data.userTypeId}`].occupationId,\n      workPlace: data[`user${data.userTypeId}`].workplace,\n      jobTitle: data[`user${data.userTypeId}`].jobTitle,\n      MinistryId: data[`user${data.userTypeId}`].ministryId,\n      jobLevelid: data[`user${data.userTypeId}`].jobLevelId,\n      DepartmentId: data[`user${data.userTypeId}`].departmentId,\n      Division: data[`user${data.userTypeId}`].division,\n      jobtypeId: data[`user${data.userTypeId}`].jobTypeId,\n      stateEnterprisid: data[`user${data.userTypeId}`].stateEnterpriseId,\n      jobLevel: data[`user${data.userTypeId}`].jobLevel,\n    },\n    validationSchema: yup.object().shape({\n      title: yup.string().required(\"กรุณากรอกคำนำหน้า\"),\n      name: yup.string().required(\"กรุณากรอกชื่อ\"),\n      lastname: yup.string().required(\"กรุณากรอกนามสกุล\"),\n      birthyear: yup.string().required(),\n      gender: yup.string().required(\"กรุณาเลือกเพศ\"),\n      educationid: yup.string().required(\"กรุณาเลือกระดับการศึกษา\"),\n      email: yup\n        .string()\n        .required(\"กรุณากรอกอีเมล\")\n        .email(\"กรุณากรอกอีเมลให้ถูกต้อง\"),\n\n      usertypeid: yup.string().required(\"กรุณาเลือกประเภท\"),\n\n      jobtypeId: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          setType(usertypeid);\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return false;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกประเภทตำแหน่ง\"),\n        otherwise: yup.string().nullable(),\n      }),\n      jobTitle: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return true;\n            case \"4\":\n              return true;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกตำแหน่ง\"),\n        otherwise: yup.string().nullable(),\n      }),\n      jobLevelid: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return false;\n            case \"3\":\n              return false;\n            case \"5\":\n              return false;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกระดับ\"),\n        otherwise: yup.string().nullable(),\n      }),\n\n      jobLevel: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return false;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return false;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกประเภท\"),\n        otherwise: yup.string().nullable(),\n      }),\n\n      jobStartDate: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return false;\n            case \"4\":\n              return true;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกปี\"),\n        otherwise: yup.string().nullable(),\n      }),\n\n      MinistryId: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"5\":\n              return false;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณาเลือกกระทรวงที่สังกัด\"),\n        otherwise: yup.string().nullable(),\n      }),\n\n      DepartmentId: yup\n        .string()\n        .nullable()\n        .when([\"usertypeid\", \"MinistryId\"], {\n          is: (usertypeid, MinistryId) => {\n            setMistry(MinistryId);\n            switch (usertypeid) {\n              case \"1\":\n                return true;\n              case \"2\":\n                return true;\n              case \"3\":\n                return true;\n              case \"5\":\n                return false;\n              case \"4\":\n                return false;\n            }\n          },\n          then: yup.string().required(\"กรุณาเลือกกรมที่สังกัด\"),\n          otherwise: yup.string().nullable(),\n        }),\n      Division: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return true;\n            case \"2\":\n              return true;\n            case \"3\":\n              return true;\n            case \"4\":\n              return false;\n            case \"5\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกชื่อส่วนราชการที่สังกัด\"),\n        otherwise: yup.string().nullable(),\n      }),\n      OccupationId: yup.string().when([\"usertypeid\", \"MinistryId\"], {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return false;\n            case \"2\":\n              return false;\n            case \"3\":\n              return false;\n            case \"5\":\n              return true;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),\n        otherwise: yup.string().nullable(),\n      }),\n      workPlace: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return false;\n            case \"2\":\n              return false;\n            case \"3\":\n              return false;\n            case \"5\":\n              return true;\n            case \"4\":\n              return false;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),\n        otherwise: yup.string().nullable(),\n      }),\n      stateEnterprisid: yup.string().when(\"usertypeid\", {\n        is: (usertypeid) => {\n          switch (usertypeid) {\n            case \"1\":\n              return false;\n            case \"2\":\n              return false;\n            case \"3\":\n              return false;\n            case \"5\":\n              return false;\n            case \"4\":\n              return true;\n          }\n        },\n        then: yup.string().required(\"กรุณากรอกเลือกอาชีพ\"),\n        otherwise: yup.string().nullable(),\n      }),\n    }),\n  });\n\n\n\n  const dispatch = useDispatch();\n\n\n\n\n\n  const onSubmitData = (data: any) => {\n    const preinfo = infoEdit(data);\n\n    const action = actions.loadEdit(preinfo);\n    dispatch(action);\n\n  };\n\n  const { message, severity } = useSelector((state: any) => state.infomation);\n\n\n  return (\n    <>\n      {\n        message !== null && <Snackbar\n          message={message\n          }\n          open={message !== null ? true : false}\n          severity={severity}\n        />\n      }\n\n      <Container component=\"main\" maxWidth=\"sm\" className={classes.paper}>\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n          <Box fontWeight=\"fontWeightBold\" fontSize={24} textAlign=\"center\">\n            {\" \"}\n            โปรไฟล์\n          </Box>\n\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <Avatar\n              alt=\"Remy Sharp\"\n              src={profilepicture}\n              className={classes.large}\n            />\n\n            <Grid item xs={12}>\n              <Box fontWeight=\"fontWeightBold\" fontSize={18} textAlign=\"center\">\n                {\" \"}\n                {data.title}{data.firstName} {data.lastName}\n              </Box>\n              <Toolbar />\n              <Divider variant=\"middle\" />\n            </Grid>\n          </Grid>\n\n          <Divider variant=\"middle\" />\n\n          <Grid item xs={12} sm={12}>\n            <form\n              className={classes.form}\n              onSubmit={accountForm.handleSubmit(onSubmitData)}\n            >\n              {/*ข้อมลู */}\n              <Information formProps={accountForm} />\n              <TypeSelect formProps={accountForm} />\n              <Button type=\"submit\" fullWidth className={classes.submit}>\n                บันทึก\n              </Button>\n            </form>\n          </Grid>\n        </Grid>\n      </Container>\n\n    </>\n  );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}