{"ast":null,"code":"import _toConsumableArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ninew/Documents/GitHub/Learing-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import MaterialTable from\"material-table\";import{forwardRef}from\"react\";import{CssBaseline}from\"@material-ui/core\";import AddBox from\"@material-ui/icons/AddBox\";import ArrowDownward from\"@material-ui/icons/ArrowDownward\";import Check from\"@material-ui/icons/Check\";import ChevronLeft from\"@material-ui/icons/ChevronLeft\";import ChevronRight from\"@material-ui/icons/ChevronRight\";import Clear from\"@material-ui/icons/Clear\";import DeleteOutline from\"@material-ui/icons/DeleteOutline\";import Edit from\"@material-ui/icons/Edit\";import FilterList from\"@material-ui/icons/FilterList\";import FirstPage from\"@material-ui/icons/FirstPage\";import LastPage from\"@material-ui/icons/LastPage\";import Remove from\"@material-ui/icons/Remove\";import SaveAlt from\"@material-ui/icons/SaveAlt\";import Search from\"@material-ui/icons/Search\";import ViewColumn from\"@material-ui/icons/ViewColumn\";import DialogAdd from\"./DialogAdd\";import DialogEdit from\"./DialogEdit\";import{getCookie}from'cookie/cookie';import axios from\"axios\";import{useSelector}from'react-redux';import Snackbar from\"shared/SnackBar/SnackBar\";export default function MaterialTableDemo(){var tableIcons={Add:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(AddBox,Object.assign({},props,{ref:ref}));}),Check:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Check,Object.assign({},props,{ref:ref}));}),Clear:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Clear,Object.assign({},props,{ref:ref}));}),Delete:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(DeleteOutline,Object.assign({},props,{ref:ref}));}),DetailPanel:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ChevronRight,Object.assign({},props,{ref:ref}));}),Edit:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Edit,Object.assign({},props,{ref:ref}));}),Export:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(SaveAlt,Object.assign({},props,{ref:ref}));}),Filter:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(FilterList,Object.assign({},props,{ref:ref}));}),FirstPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(FirstPage,Object.assign({},props,{ref:ref}));}),LastPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(LastPage,Object.assign({},props,{ref:ref}));}),NextPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ChevronRight,Object.assign({},props,{ref:ref}));}),PreviousPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ChevronLeft,Object.assign({},props,{ref:ref}));}),ResetSearch:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Clear,Object.assign({},props,{ref:ref}));}),Search:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Search,Object.assign({},props,{ref:ref}));}),SortArrow:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ArrowDownward,Object.assign({},props,{ref:ref}));}),ThirdStateCheck:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Remove,Object.assign({},props,{ref:ref}));}),ViewColumn:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ViewColumn,Object.assign({},props,{ref:ref}));})};var useState=React.useState;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),entries=_useState2[0],setEntries=_useState2[1];var token=getCookie('token');var platformid=getCookie('platformid');var headers={Authorization:\"Bearer \".concat(token)};var _useSelector=useSelector(function(state){return state.admin;}),message=_useSelector.message,severity=_useSelector.severity;useEffect(function(){var fetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/Platforms/\".concat(platformid,\"/Courses\"));case 3:response=_context.sent;setEntries(response.data);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetch(){return _ref.apply(this,arguments);};}();fetch();// eslint-disable-next-line\n},[message]);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),editData=_useState6[0],setEditData=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openEdit=_useState8[0],setOpenEdit=_useState8[1];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CssBaseline,null),message!==null&&/*#__PURE__*/React.createElement(Snackbar,{message:message,open:message!==null?true:false,severity:severity}),/*#__PURE__*/React.createElement(MaterialTable,{title:\"\\u0E23\\u0E32\\u0E22\\u0E27\\u0E34\\u0E0A\\u0E32\",columns:[{title:\"รหัสวิชา\",field:\"code\",type:\"numeric\"},{title:\"ชื่อวิชา\",field:\"name\"}],data:entries,icons:tableIcons,options:{pageSize:20,pageSizeOptions:[20,50,100]},actions:[{icon:function icon(){return/*#__PURE__*/React.createElement(AddBox,null);},tooltip:\"เพิ่ม\",isFreeAction:true,onClick:function onClick(event,rowData){setOpen(true);}},{icon:function icon(){return/*#__PURE__*/React.createElement(Edit,null);},tooltip:\"แก้ไข\",onClick:function onClick(event,rowData){setOpenEdit(true);var save=rowData;setEditData(save);}}],editable:{onRowDelete:function onRowDelete(oldData){return new Promise(function(resolve){setTimeout(function(){//@ts-ignore\nresolve();var data=_toConsumableArray(entries);data.splice(data.indexOf(oldData),1);axios.delete(\"/Platforms/\".concat(platformid,\"/Courses/\").concat(oldData.id),{headers:headers}).then(function(res){return res.data;});setEntries(_toConsumableArray(data));},600);});}}}),/*#__PURE__*/React.createElement(DialogAdd,{open:open,setOpen:setOpen}),/*#__PURE__*/React.createElement(DialogEdit,{open:openEdit,setOpen:setOpenEdit,data:editData}));}","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/adminPortal/components/TableCourse/index.tsx"],"names":["React","useEffect","MaterialTable","forwardRef","CssBaseline","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","DialogAdd","DialogEdit","getCookie","axios","useSelector","Snackbar","MaterialTableDemo","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","useState","entries","setEntries","token","platformid","headers","Authorization","state","admin","message","severity","fetch","get","response","data","open","setOpen","editData","setEditData","openEdit","setOpenEdit","title","field","type","pageSize","pageSizeOptions","icon","tooltip","isFreeAction","onClick","event","rowData","save","onRowDelete","oldData","Promise","resolve","setTimeout","splice","indexOf","delete","id","then","res"],"mappings":"ipBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,aAAP,KAA0B,gBAA1B,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kCAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,iCAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kCAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,yBAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,+BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4BAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,+BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,SAAT,KAA0B,eAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,QAAP,KAAqB,0BAArB,CAGA,cAAe,SAASC,CAAAA,iBAAT,EAA6B,CAC1C,GAAMC,CAAAA,UAAU,CAAG,CACjBC,GAAG,CAAEzB,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAC7B,oBAAC,MAAD,kBAAYD,KAAZ,EAAmB,GAAG,CAAEC,GAAxB,GAD6B,EAAhB,CADE,CAIjBvB,KAAK,CAAEJ,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAC/B,oBAAC,KAAD,kBAAWD,KAAX,EAAkB,GAAG,CAAEC,GAAvB,GAD+B,EAAhB,CAJA,CAOjBpB,KAAK,CAAEP,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAC/B,oBAAC,KAAD,kBAAWD,KAAX,EAAkB,GAAG,CAAEC,GAAvB,GAD+B,EAAhB,CAPA,CAUjBC,MAAM,CAAE5B,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAChC,oBAAC,aAAD,kBAAmBD,KAAnB,EAA0B,GAAG,CAAEC,GAA/B,GADgC,EAAhB,CAVD,CAajBE,WAAW,CAAE7B,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBACrC,oBAAC,YAAD,kBAAkBD,KAAlB,EAAyB,GAAG,CAAEC,GAA9B,GADqC,EAAhB,CAbN,CAgBjBlB,IAAI,CAAET,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAC9B,oBAAC,IAAD,kBAAUD,KAAV,EAAiB,GAAG,CAAEC,GAAtB,GAD8B,EAAhB,CAhBC,CAmBjBG,MAAM,CAAE9B,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAChC,oBAAC,OAAD,kBAAaD,KAAb,EAAoB,GAAG,CAAEC,GAAzB,GADgC,EAAhB,CAnBD,CAsBjBI,MAAM,CAAE/B,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAChC,oBAAC,UAAD,kBAAgBD,KAAhB,EAAuB,GAAG,CAAEC,GAA5B,GADgC,EAAhB,CAtBD,CAyBjBhB,SAAS,CAAEX,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBACnC,oBAAC,SAAD,kBAAeD,KAAf,EAAsB,GAAG,CAAEC,GAA3B,GADmC,EAAhB,CAzBJ,CA4BjBf,QAAQ,CAAEZ,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAClC,oBAAC,QAAD,kBAAcD,KAAd,EAAqB,GAAG,CAAEC,GAA1B,GADkC,EAAhB,CA5BH,CA+BjBK,QAAQ,CAAEhC,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAClC,oBAAC,YAAD,kBAAkBD,KAAlB,EAAyB,GAAG,CAAEC,GAA9B,GADkC,EAAhB,CA/BH,CAkCjBM,YAAY,CAAEjC,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBACtC,oBAAC,WAAD,kBAAiBD,KAAjB,EAAwB,GAAG,CAAEC,GAA7B,GADsC,EAAhB,CAlCP,CAqCjBO,WAAW,CAAElC,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBACrC,oBAAC,KAAD,kBAAWD,KAAX,EAAkB,GAAG,CAAEC,GAAvB,GADqC,EAAhB,CArCN,CAwCjBZ,MAAM,CAAEf,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBAChC,oBAAC,MAAD,kBAAYD,KAAZ,EAAmB,GAAG,CAAEC,GAAxB,GADgC,EAAhB,CAxCD,CA2CjBQ,SAAS,CAAEnC,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBACnC,oBAAC,aAAD,kBAAmBD,KAAnB,EAA0B,GAAG,CAAEC,GAA/B,GADmC,EAAhB,CA3CJ,CA8CjBS,eAAe,CAAEpC,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBACzC,oBAAC,MAAD,kBAAYD,KAAZ,EAAmB,GAAG,CAAEC,GAAxB,GADyC,EAAhB,CA9CV,CAiDjBX,UAAU,CAAEhB,UAAU,CAAgB,SAAC0B,KAAD,CAAQC,GAAR,qBACpC,oBAAC,UAAD,kBAAgBD,KAAhB,EAAuB,GAAG,CAAEC,GAA5B,GADoC,EAAhB,CAjDL,CAAnB,CAD0C,GAsDlCU,CAAAA,QAtDkC,CAsDrBxC,KAtDqB,CAsDlCwC,QAtDkC,eAyDZA,QAAQ,CAAM,EAAN,CAzDI,wCAyDnCC,OAzDmC,eAyD1BC,UAzD0B,eA4D1C,GAAMC,CAAAA,KAAK,CAAGrB,SAAS,CAAC,OAAD,CAAvB,CACA,GAAMsB,CAAAA,UAAU,CAAGtB,SAAS,CAAC,YAAD,CAA5B,CACA,GAAMuB,CAAAA,OAAO,CAAG,CACdC,aAAa,kBAAYH,KAAZ,CADC,CAAhB,CA9D0C,iBAkEZnB,WAAW,CAAC,SAACuB,KAAD,QAAgBA,CAAAA,KAAK,CAACC,KAAtB,EAAD,CAlEC,CAkElCC,OAlEkC,cAkElCA,OAlEkC,CAkEzBC,QAlEyB,cAkEzBA,QAlEyB,CAoE1CjD,SAAS,CAAC,UAAM,CACd,GAAMkD,CAAAA,KAAK,0FAAG,sLAEa5B,CAAAA,KAAK,CAAC6B,GAAN,sBAAwBR,UAAxB,aAFb,QAEJS,QAFI,eAIVX,UAAU,CAACW,QAAQ,CAACC,IAAV,CAAV,CAJU,iJAAH,kBAALH,CAAAA,KAAK,0CAAX,CAWAA,KAAK,GACL;AACD,CAdQ,CAcN,CAACF,OAAD,CAdM,CAAT,CApE0C,eAsFlBT,QAAQ,CAAC,KAAD,CAtFU,yCAsFnCe,IAtFmC,eAsF7BC,OAtF6B,8BAuFVhB,QAAQ,CAAM,EAAN,CAvFE,yCAuFnCiB,QAvFmC,eAuFzBC,WAvFyB,8BAwFVlB,QAAQ,CAAC,KAAD,CAxFE,yCAwFnCmB,QAxFmC,eAwFzBC,WAxFyB,eA6F1C,mBACE,4CACE,oBAAC,WAAD,MADF,CAGIX,OAAO,GAAK,IAAZ,eAAoB,oBAAC,QAAD,EAClB,OAAO,CAAEA,OADS,CAGlB,IAAI,CAAEA,OAAO,GAAK,IAAZ,CAAmB,IAAnB,CAA0B,KAHd,CAIlB,QAAQ,CAAEC,QAJQ,EAHxB,cAWE,oBAAC,aAAD,EACE,KAAK,CAAC,4CADR,CAEE,OAAO,CAAE,CACP,CAAEW,KAAK,CAAE,UAAT,CAAqBC,KAAK,CAAE,MAA5B,CAAoCC,IAAI,CAAE,SAA1C,CADO,CAEP,CAAEF,KAAK,CAAE,UAAT,CAAqBC,KAAK,CAAE,MAA5B,CAFO,CAFX,CAME,IAAI,CAAErB,OANR,CAOE,KAAK,CAAEd,UAPT,CAQE,OAAO,CAAE,CACPqC,QAAQ,CAAE,EADH,CAEPC,eAAe,CAAE,CAAC,EAAD,CAAK,EAAL,CAAS,GAAT,CAFV,CARX,CAYE,OAAO,CAAE,CACP,CACEC,IAAI,CAAE,mCAAM,oBAAC,MAAD,MAAN,EADR,CAEEC,OAAO,CAAE,OAFX,CAGEC,YAAY,CAAE,IAHhB,CAIEC,OAAO,CAAE,iBAACC,KAAD,CAAQC,OAAR,CAAoB,CAC3Bf,OAAO,CAAC,IAAD,CAAP,CAED,CAPH,CADO,CAWP,CACEU,IAAI,CAAE,mCAAM,oBAAC,IAAD,MAAN,EADR,CAEEC,OAAO,CAAE,OAFX,CAGEE,OAAO,CAAE,iBAACC,KAAD,CAAQC,OAAR,CAAoB,CAC3BX,WAAW,CAAC,IAAD,CAAX,CACA,GAAMY,CAAAA,IAAI,CAAGD,OAAb,CACAb,WAAW,CAACc,IAAD,CAAX,CACD,CAPH,CAXO,CAZX,CAiCE,QAAQ,CAAE,CACRC,WAAW,CAAE,qBAACC,OAAD,QACX,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAa,CACvBC,UAAU,CAAC,UAAM,CACf;AACAD,OAAO,GACP,GAAMtB,CAAAA,IAAI,oBAAOb,OAAP,CAAV,CACAa,IAAI,CAACwB,MAAL,CAAYxB,IAAI,CAACyB,OAAL,CAAaL,OAAb,CAAZ,CAAmC,CAAnC,EACAnD,KAAK,CACFyD,MADH,sBACwBpC,UADxB,qBAC8C8B,OAAO,CAACO,EADtD,EAC4D,CAAEpC,OAAO,CAAPA,OAAF,CAD5D,EAEGqC,IAFH,CAEQ,SAACC,GAAD,QAAUA,CAAAA,GAAG,CAAC7B,IAAd,EAFR,EAGAZ,UAAU,oBAAKY,IAAL,EAAV,CACD,CATS,CASP,GATO,CAAV,CAUD,CAXD,CADW,EADL,CAjCZ,EAXF,cA6DE,oBAAC,SAAD,EAAW,IAAI,CAAEC,IAAjB,CAAuB,OAAO,CAAEC,OAAhC,EA7DF,cA8DE,oBAAC,UAAD,EAAY,IAAI,CAAEG,QAAlB,CAA4B,OAAO,CAAEC,WAArC,CAAkD,IAAI,CAAEH,QAAxD,EA9DF,CADF,CAkED","sourcesContent":["import React, { useEffect } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { forwardRef } from \"react\";\nimport { CssBaseline } from \"@material-ui/core\";\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\nimport DialogAdd from \"./DialogAdd\";\nimport DialogEdit from \"./DialogEdit\";\nimport { getCookie } from 'cookie/cookie'\nimport axios from \"axios\"\nimport { useSelector } from 'react-redux'\nimport Snackbar from \"shared/SnackBar/SnackBar\"\n\n\nexport default function MaterialTableDemo() {\n  const tableIcons = {\n    Add: forwardRef<SVGSVGElement>((props, ref) => (\n      <AddBox {...props} ref={ref} />\n    )),\n    Check: forwardRef<SVGSVGElement>((props, ref) => (\n      <Check {...props} ref={ref} />\n    )),\n    Clear: forwardRef<SVGSVGElement>((props, ref) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Delete: forwardRef<SVGSVGElement>((props, ref) => (\n      <DeleteOutline {...props} ref={ref} />\n    )),\n    DetailPanel: forwardRef<SVGSVGElement>((props, ref) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    Edit: forwardRef<SVGSVGElement>((props, ref) => (\n      <Edit {...props} ref={ref} />\n    )),\n    Export: forwardRef<SVGSVGElement>((props, ref) => (\n      <SaveAlt {...props} ref={ref} />\n    )),\n    Filter: forwardRef<SVGSVGElement>((props, ref) => (\n      <FilterList {...props} ref={ref} />\n    )),\n    FirstPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <FirstPage {...props} ref={ref} />\n    )),\n    LastPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <LastPage {...props} ref={ref} />\n    )),\n    NextPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <ChevronRight {...props} ref={ref} />\n    )),\n    PreviousPage: forwardRef<SVGSVGElement>((props, ref) => (\n      <ChevronLeft {...props} ref={ref} />\n    )),\n    ResetSearch: forwardRef<SVGSVGElement>((props, ref) => (\n      <Clear {...props} ref={ref} />\n    )),\n    Search: forwardRef<SVGSVGElement>((props, ref) => (\n      <Search {...props} ref={ref} />\n    )),\n    SortArrow: forwardRef<SVGSVGElement>((props, ref) => (\n      <ArrowDownward {...props} ref={ref} />\n    )),\n    ThirdStateCheck: forwardRef<SVGSVGElement>((props, ref) => (\n      <Remove {...props} ref={ref} />\n    )),\n    ViewColumn: forwardRef<SVGSVGElement>((props, ref) => (\n      <ViewColumn {...props} ref={ref} />\n    )),\n  };\n  const { useState } = React;\n\n\n  const [entries, setEntries] = useState<any>([])\n\n\n  const token = getCookie('token');\n  const platformid = getCookie('platformid');\n  const headers = {\n    Authorization: `Bearer ${token}`,\n  }\n\n  const { message, severity } = useSelector((state: any) => state.admin);\n\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const response = await axios.get(`/Platforms/${platformid}/Courses`)\n\n        setEntries(response.data)\n\n      } catch (err) {\n\n      }\n\n    }\n    fetch()\n    // eslint-disable-next-line\n  }, [message])\n\n\n\n  const [open, setOpen] = useState(false);\n  const [editData, setEditData] = useState<any>([])\n  const [openEdit, setOpenEdit] = useState(false);\n\n\n\n\n  return (\n    <div>\n      <CssBaseline />\n      {\n        message !== null && <Snackbar\n          message={message\n          }\n          open={message !== null ? true : false}\n          severity={severity}\n        />\n      }\n\n      <MaterialTable\n        title=\"รายวิชา\"\n        columns={[\n          { title: \"รหัสวิชา\", field: \"code\", type: \"numeric\" },\n          { title: \"ชื่อวิชา\", field: \"name\" },\n        ]}\n        data={entries}\n        icons={tableIcons}\n        options={{\n          pageSize: 20,\n          pageSizeOptions: [20, 50, 100]\n        }}\n        actions={[\n          {\n            icon: () => <AddBox />,\n            tooltip: \"เพิ่ม\",\n            isFreeAction: true,\n            onClick: (event, rowData) => {\n              setOpen(true)\n\n            },\n\n          },\n          {\n            icon: () => <Edit />,\n            tooltip: \"แก้ไข\",\n            onClick: (event, rowData) => {\n              setOpenEdit(true)\n              const save = rowData\n              setEditData(save)\n            },\n          },\n        ]}\n        editable={{\n          onRowDelete: (oldData: any) =>\n            new Promise((resolve) => {\n              setTimeout(() => {\n                //@ts-ignore\n                resolve()\n                const data = [...entries]\n                data.splice(data.indexOf(oldData), 1)\n                axios\n                  .delete(`/Platforms/${platformid}/Courses/${oldData.id}`, { headers })\n                  .then((res) => (res.data))\n                setEntries([...data])\n              }, 600)\n            }),\n\n        }}\n      />\n      <DialogAdd open={open} setOpen={setOpen} />\n      <DialogEdit open={openEdit} setOpen={setOpenEdit} data={editData} />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}