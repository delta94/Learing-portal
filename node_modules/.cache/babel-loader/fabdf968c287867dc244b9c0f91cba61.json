{"ast":null,"code":"import axios from \"axios\";\nimport * as infoactions from \"modules/infomation/actions\";\nconst LOAD_FORGOT_REQUEST = \"learning-portal/src/ui/LOAD_FORGOT_REQUEST\";\nconst LOAD_FORGOT_SUCCESS = \"learning-portal/src/ui/LOAD_FORGOT_SUCCESS\";\nconst LOAD_FORGOT_FAILURE = \"learning-portal/src/ui/LOAD_FORGOT_REQUEST\";\n\nfunction loadFORGOT(updateInfo, id) {\n  return async dispatch => {\n    dispatch({\n      type: LOAD_FORGOT_REQUEST\n    });\n\n    try {\n      const data = await axios.put(`/Users/${id}/ForgetPassword`, updateInfo, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const action = infoactions.loadMessage(`ได้ทำการส่งรหัสผ่านใหม่ทาง ${updateInfo.email} เรียบร้อยเเล้ว`, \"success\");\n      dispatch(action);\n      dispatch({\n        type: LOAD_FORGOT_SUCCESS,\n        payload: {\n          message: `ได้ทำการส่งรหัสผ่านใหม่ทาง ${updateInfo.email} เรียบร้อยเเล้ว`,\n          data: data.data,\n          status: data.status\n        }\n      });\n    } catch (err) {\n      dispatch({\n        type: LOAD_FORGOT_FAILURE,\n        payload: {\n          message: \"เกิดข้อผิดพลาด\",\n          staus: err.response.status\n        }\n      });\n\n      if (err.response.status === 404) {\n        const action = infoactions.loadMessage(`ไม่พบเลขบัตรประชาชน`, \"error\");\n        dispatch(action);\n      } else {\n        const action = infoactions.loadMessage(`เกิดข้อผิดพลาด ${err.response.status} เรียบร้อยเเล้ว`, \"error\");\n        dispatch(action);\n      }\n    }\n  };\n}\n\nexport { LOAD_FORGOT_REQUEST, LOAD_FORGOT_SUCCESS, LOAD_FORGOT_FAILURE, loadFORGOT };","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Learing-portal/src/modules/forgetPassword/actions.tsx"],"names":["axios","infoactions","LOAD_FORGOT_REQUEST","LOAD_FORGOT_SUCCESS","LOAD_FORGOT_FAILURE","loadFORGOT","updateInfo","id","dispatch","type","data","put","headers","action","loadMessage","email","payload","message","status","err","staus","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,4BAA7B;AAEA,MAAMC,mBAAmB,GAAG,4CAA5B;AACA,MAAMC,mBAAmB,GAAG,4CAA5B;AACA,MAAMC,mBAAmB,GAAG,4CAA5B;;AAEA,SAASC,UAAT,CAAoBC,UAApB,EAAqCC,EAArC,EAAiD;AAC7C,SAAO,MAAOC,QAAP,IAAyB;AAC5BA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP;AAAR,KAAD,CAAR;;AACA,QAAI;AACA,YAAMQ,IAAI,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAW,UAASJ,EAAG,iBAAvB,EAAyCD,UAAzC,EAAqD;AACpEM,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AAD2D,OAArD,CAAnB;AAKA,YAAMC,MAAM,GAAGZ,WAAW,CAACa,WAAZ,CAAyB,8BAA6BR,UAAU,CAACS,KAAM,iBAAvE,EAAyF,SAAzF,CAAf;AACAP,MAAAA,QAAQ,CAACK,MAAD,CAAR;AACAL,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEN,mBADD;AAELa,QAAAA,OAAO,EAAE;AACLC,UAAAA,OAAO,EAAG,8BAA6BX,UAAU,CAACS,KAAM,iBADnD;AAELL,UAAAA,IAAI,EAAEA,IAAI,CAACA,IAFN;AAGLQ,UAAAA,MAAM,EAAER,IAAI,CAACQ;AAHR;AAFJ,OAAD,CAAR;AAQH,KAhBD,CAgBE,OAAOC,GAAP,EAAY;AACVX,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEL,mBADD;AAELY,QAAAA,OAAO,EAAE;AACLC,UAAAA,OAAO,EAAE,gBADJ;AAELG,UAAAA,KAAK,EAAED,GAAG,CAACE,QAAJ,CAAaH;AAFf;AAFJ,OAAD,CAAR;;AAOA,UAAIC,GAAG,CAACE,QAAJ,CAAaH,MAAb,KAAwB,GAA5B,EAAiC;AAC7B,cAAML,MAAM,GAAGZ,WAAW,CAACa,WAAZ,CAAyB,qBAAzB,EAA+C,OAA/C,CAAf;AACAN,QAAAA,QAAQ,CAACK,MAAD,CAAR;AACH,OAHD,MAIK;AACD,cAAMA,MAAM,GAAGZ,WAAW,CAACa,WAAZ,CAAyB,kBAAiBK,GAAG,CAACE,QAAJ,CAAaH,MAAO,iBAA9D,EAAgF,OAAhF,CAAf;AACAV,QAAAA,QAAQ,CAACK,MAAD,CAAR;AACH;AAEJ;AACJ,GApCD;AAqCH;;AAED,SACIX,mBADJ,EAEIC,mBAFJ,EAGIC,mBAHJ,EAIIC,UAJJ","sourcesContent":["import axios from \"axios\";\nimport * as infoactions from \"modules/infomation/actions\"\n\nconst LOAD_FORGOT_REQUEST = \"learning-portal/src/ui/LOAD_FORGOT_REQUEST\";\nconst LOAD_FORGOT_SUCCESS = \"learning-portal/src/ui/LOAD_FORGOT_SUCCESS\";\nconst LOAD_FORGOT_FAILURE = \"learning-portal/src/ui/LOAD_FORGOT_REQUEST\";\n\nfunction loadFORGOT(updateInfo: any, id: string) {\n    return async (dispatch: any) => {\n        dispatch({ type: LOAD_FORGOT_REQUEST });\n        try {\n            const data = await axios.put(`/Users/${id}/ForgetPassword`, updateInfo, {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            });\n            const action = infoactions.loadMessage(`ได้ทำการส่งรหัสผ่านใหม่ทาง ${updateInfo.email} เรียบร้อยเเล้ว`, \"success\")\n            dispatch(action)\n            dispatch({\n                type: LOAD_FORGOT_SUCCESS,\n                payload: {\n                    message: `ได้ทำการส่งรหัสผ่านใหม่ทาง ${updateInfo.email} เรียบร้อยเเล้ว`,\n                    data: data.data,\n                    status: data.status\n                },\n            });\n        } catch (err) {\n            dispatch({\n                type: LOAD_FORGOT_FAILURE,\n                payload: {\n                    message: \"เกิดข้อผิดพลาด\",\n                    staus: err.response.status\n                },\n            });\n            if (err.response.status === 404) {\n                const action = infoactions.loadMessage(`ไม่พบเลขบัตรประชาชน`, \"error\")\n                dispatch(action)\n            }\n            else {\n                const action = infoactions.loadMessage(`เกิดข้อผิดพลาด ${err.response.status} เรียบร้อยเเล้ว`, \"error\")\n                dispatch(action)\n            }\n\n        }\n    };\n}\n\nexport {\n    LOAD_FORGOT_REQUEST,\n    LOAD_FORGOT_SUCCESS,\n    LOAD_FORGOT_FAILURE,\n    loadFORGOT,\n};"]},"metadata":{},"sourceType":"module"}